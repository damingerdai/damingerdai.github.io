{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u6211\u662f\u5927\u660e\u4e8c\u4ee3","text":""},{"location":"#welcome-to-damingerdai","title":"Welcome to damingerdai","text":"<p>\u5927\u5bb6\u597d\uff0c \u6211\u662f\u660e\u56fd\u5bbe\u3002\uff0c\u76ee\u524d\u5728\u666e\u534e\u6c38\u9053\u4fe1\u606f\u6280\u672f(\u4e0a\u6d77)\u6709\u9650\u516c\u53f8\u505a\u5168\u6808\u5f00\u53d1\u3002</p> <p>\u5728\u666e\u534e\u6c38\u9053\u91cc\uff0c\u6211\u4ee5Angular Commit Message\u89c4\u8303\u4e3a\u57fa\u7840\uff0c\u9010\u6b65\u53d1\u5c55\u4e86\u4e00\u5957\u57fa\u4e8eNodejs\u751f\u6001\u7684\u5f00\u53d1\u90e8\u7f72\u89c4\u8303\uff0c\u5728PM\u548c\u5176\u4ed6\u5f00\u53d1\u540c\u4e8b\u7684\u652f\u6301\u4e0b\uff0c\u6210\u529f\u5730\u5728\u9879\u76ee\u4e2d\u63a8\u5e7f\uff0c\u800c\u6211\u4e5f\u5728\u4ece\u4e2d\u83b7\u5f97\u6536\u83b7\u6210\u957f\u3002</p> <p>\u4f5c\u4e3a\u4e00\u540d\u975e\u8ba1\u7b97\u673a\u4e13\u4e1a\u51fa\u751f\u7684\u666e\u901a\u4eba\uff0c\u6211\u4f7f\u7528\u8fc7<code>Spring Boot</code>\u3001<code>Nodejs</code>\u548c<code>Angular</code>\u505a\u8fc7\u9879\u76ee, \u4f46\u662f\u7531\u4e8e\u79cd\u79cd\u539f\u56e0\uff0c\u5e76\u6ca1\u6709\u597d\u597d\u6df1\u5165\u7814\u7a76\u8fc7\u6280\u672f\u7684\u5e95\u5c42\u539f\u7406\uff0c\u66f4\u591a\u7684\u8fd8\u662f\u4e00\u4e9b\u7b80\u5355\u7684\u6280\u672f\u5e94\u7528\u3002</p> <p>\u56e0\u6b64\u6211\u5e0c\u671b\u6211\u5c06\u6765\u53ef\u4ee5\u82b1\u8d39\u66f4\u591a\u6df1\u7814\u6280\u672f\uff1a</p> <ol> <li>\u5728<code>Angular</code>\u7684\u57fa\u7840\u4e0a\uff0c\u80fd\u591f\u4f7f\u7528<code>React</code>\u8fdb\u884c\u9879\u76ee\u5f00\u53d1\uff0c\u540c\u65f6\u5bf9<code>TypeScript Compiler Api</code>\u8fdb\u884c\u6df1\u5165\u7814\u7a76\u3002</li> <li>\u6df1\u5165\u7814\u7a76<code>Spring Boot</code>, \u6839\u636e\u4ee5\u524d\u5f00\u53d1\u7684\u9879\u76ee\uff0c\u5f62\u6210\u81ea\u5df1\u4e00\u5957\u7684\u5feb\u901f\u5f00\u53d1\u6846\u67b6\u3002</li> <li>\u672a\u6765\u662f\u5c5e\u4e8e\u4e91\u539f\u751f\u7684\u4e16\u754c\uff0c<code>Golang</code>\u5c06\u4f1a\u8d8a\u6765\u8d8a\u91cd\u8981\uff0c\u56e0\u6b64\u80fd\u591f\u7ee7\u7eed\u7814\u7a76Golang\u3002\u6b64\u5916\uff0c<code>K8S</code>\u662f\u4e91\u539f\u751f\u5f00\u53d1\u7684\u4e8b\u5b9e\u4e0a\u7684\u57fa\u7840\u8bbe\u65bd\uff0c\u6211\u5c06\u82b1\u8d39\u66f4\u591a\u7684\u65f6\u95f4\u53bb\u7814\u7a76\u3002</li> <li><code>Rust</code>\u662f\u4e00\u540d\u5f88\u6709\u610f\u601d\u7684\u8bed\u8a00\uff0c\u5e0c\u671b\u80fd\u591f\u5728\u5b66\u4e60\u4e4b\u4f59\uff0c\u7b80\u5355\u7684\u5165\u95e8\u4e00\u4e0b\uff0c\u80fd\u591f\u7406\u89e3\u524d\u4eba\u5bf9\u7f16\u7a0b\u8bed\u8a00\u7684\u601d\u8003</li> <li><code>Bazel</code>\u662f\u8c37\u6b4c\u5f00\u6e90\u7684\u7f16\u8bd1\u5de5\u5177\uff0c\u6027\u80fd\u597d\uff0c\u652f\u6301\u591a\u8bed\u8a00\u3002\u4f46\u662f\u7531\u4e8e\u53ef\u53c2\u8003\u7684\u8d44\u6599\u975e\u5e38\u5c11\uff0c\u5e0c\u671b\u80fd\u6709\u673a\u4f1a\u52c9\u5f3a\u638c\u63e1\u3002</li> </ol> <p>\u968f\u7740\u5e74\u5c81\u7684\u589e\u957f\uff0c\u6211\u8d8a\u6765\u8d8a\u53d1\u73b0\uff0c\u81ea\u5df1\u7684\u65f6\u95f4\u592a\u5c11\uff0c\u800c\u9700\u8981\u5b66\u4e60\u7684\u77e5\u8bc6\u53ea\u4f1a\u8d8a\u6765\u8d8a\u591a\u3002\u6709\u7684\u65f6\u5019\u4e5f\u4f1a\u89c9\u5f97\u8ff7\u832b\uff0c\u4f46\u662f\u6211\u60f3\u5bf9\u6211\u81ea\u5df1\u8bf4\u4e00\u53e5\uff1a\u6211\u662f\u8981\u6210\u4e3a\u67b6\u6784\u5e08\u7684\u7537\u4eba\uff01</p>"},{"location":"back-end/add-ssl-for-ingress/","title":"\u7ed9Ingress\u4e0a\u914d\u7f6essl\u8bc1\u4e66","text":""},{"location":"back-end/add-ssl-for-ingress/#secret","title":"\u521b\u5efasecret","text":"<pre><code>kubectl create secret tls [secretName]  --cert=[pem\u6587\u4ef6\u8def\u5f84] --key=[key\u6587\u4ef6\u8def\u5f84] --namespace [namespace] -o yaml --dry-run=client &gt; ingress-default-cert.yaml\n\n\nkubectl apply -f ingress-default-cert.yaml\n</code></pre>"},{"location":"back-end/add-ssl-for-ingress/#ingress","title":"Ingress\u6dfb\u52a0\u8bc1\u4e66","text":"<pre><code>apiVersion: networking.k8s.io/v1beta1\nkind: Ingress  \nmetadata: \n    name: [ingress-name] \n    namespace: [namespace] # ingress\u8981\u548csecret\u5728\u540c\u4e00\u4e2a\u540d\u79f0\u7a7a\u95f4\u4e0b \n    annotations: \n        kubernetes.io/ingress.class: traefik \n        traefik.frontend.rule.type: PathPrefixStrip \n        # http \u91cd\u5b9a\u5411\u5230 https \n        ingress.kubernetes.io/ssl-redirect: \"True\" \nspec: \n    tls: \n        - hosts: \n            - xxxx.xxxx # \u8fd9\u91cc\u662f\u4e0b\u9762\u8981\u914d\u7f6ehttps\u7684\u57df\u540d \n            - xxxx.xxxx # \u8fd9\u91cc\u662f\u4e0b\u9762\u8981\u914d\u7f6ehttps\u7684\u57df\u540d \n        secretName: \n            [secret-name]: \n    rules:\n    - host: xxx.xxx.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: [service-name]\n                port:\n                  number: 8080\n\n</code></pre>"},{"location":"back-end/add-ssl-for-ingress/#_1","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>\u4e3ak8s\u96c6\u7fa4\u914d\u7f6eSSL\u8bc1\u4e66</li> <li>k3s\u914d\u7f6eingress\u4f7f\u7528ssl\u8bc1\u4e66</li> </ol>"},{"location":"back-end/github-action-push-docker-image-to-github-packages/","title":"\u51c6\u5907","text":"<p>\u8bf7\u5728github\u7684\u8bbe\u7f6e\u9875\u9762\u4e0a\u521b\u5efa\u4e00\u4e2atoken\uff0c\u5e76\u786e\u4fdd\u6709\u4ee5\u4e0b\u7684\u6743\u9650\uff1a</p> <ul> <li>repo</li> <li>read:packages</li> <li>write:packages</li> </ul> <p>\u8bf7\u4fdd\u5b58\u597d\u8be5token\uff0c\u56e0\u4e3agithub\u5c06\u9690\u85cf\u8be5\u503c</p> <p>\u5728github\u7684\u4ed3\u5e93\u7684secrets\u8bbe\u7f6e\u9875\u9762(\u4f8b\uff1ahttps://github.com/{your_username}/{your_repository_name}/settings/secrets/actions)\u91cc\u521b\u5efa\u4e00\u4e2a\u540d\u4e3aGHCR_PAT\u7684secrets</p> <p></p>"},{"location":"back-end/github-action-push-docker-image-to-github-packages/#github-action","title":"\u521b\u5efaGitHub Action\u6587\u4ef6","text":"<p>\u5728<code>.github/workflow</code>\u4e2d\u521b\u5efa\u4e00\u4e2a<code>build-and-publish.yml</code>:</p> <pre><code>name: Build and Publish\n\non:\n  push:\n    branches: [ master ]\n\njobs:\n  build-and-push-docker-image:\n    name: Build Docker image and push to repositories\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n\n      - name: Set up Docker Buildx\n        id: buildx\n        uses: docker/setup-buildx-action@v1\n\n      - name: Login to Github Packages\n        uses: docker/login-action@v1\n        with:\n          registry: ghcr.io\n          username: ${{ github.actor }}\n          password: ${{ secrets.GHCR_PAT }}\n\n      - name: Build image and push to GitHub Container Registry\n        uses: docker/build-push-action@v2\n        id: docker_build\n        with:\n          context: .\n          tags: |\n            # \u5c06usernmae\u548crepository\u6539\u6210\u4f60\u81ea\u5df1\u7684github\u8d26\u53f7\u548c\u4ed3\u5e93\u540d\n            ghcr.io/{usernmae}/{repository}:${{ github.sha }}\n            # \u5f53\u4e14\u53ea\u6709\u8fd0\u884c\u5728master\u5206\u652f\u65f6\u624d\u9700\u8981\u63a8\u9001\u5230github\u5bb9\u5668\u4ed3\u5e93\n          push: ${{ github.ref == 'refs/heads/master' }}\n\n      - name: Image digest\n        run: echo ${{ steps.docker_build.outputs.digest }}\n</code></pre> <p>\u9ed8\u8ba4\u63a8\u9001\u7684\u955c\u50cf\u662f\u79c1\u6709\uff0c\u60f3\u8981\u516c\u5f00\uff0c\u53ef\u4ee5\u5728 <code>https://github.com/users/{your_username}/packages/container/{your_repository_name}/settings</code>\u4e0b\u9762\u7684Danger Zone\u4e2d\u7684Change package visibility\u8bbe\u7f6e\u6210public\u8fd8\u662fprivate\u3002</p>"},{"location":"back-end/github-action-push-docker-image-to-github-packages/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>How to build and push Docker image with GitHub actions?</li> <li>Hoteler</li> </ol>"},{"location":"back-end/gradle-ali-mirror/","title":"Gradle\u914d\u7f6e\u963f\u91cc\u955c\u50cf","text":"<p>\u4e3a\u4e86\u52a0\u5febgradle\u7684\u56fd\u5185\u4e0b\u8f7d\u7684\u901f\u5ea6\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3agradle\u914d\u7f6e\u963f\u91cc\u4ed3\u5e93\u7684\u955c\u50cf</p> <p>\u8bf7\u5728gradle\u7684\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684<code>init.d</code>\u7684\u6587\u4ef6\u5939\u4e0b\u6dfb\u52a0<code>init.gradle</code>:</p> <pre><code>gradle.projectsLoaded {\n    rootProject.allprojects {\n        buildscript {\n            repositories {\n                def JCENTER_URL = 'https://maven.aliyun.com/repository/public'\n                def GOOGLE_URL = 'https://maven.aliyun.com/repository/google'\n                def NEXUS_URL = 'https://maven.aliyun.com/repository/central'\n                all { ArtifactRepository repo -&gt;\n                    if (repo instanceof MavenArtifactRepository) {\n                        def url = repo.url.toString()\n                        if (url.startsWith('https://jcenter.bintray.com/')) {\n                            project.logger.lifecycle \"Repository ${repo.url} replaced by $JCENTER_URL.\"\n                            println(\"buildscript ${repo.url} replaced by $JCENTER_URL.\")\n                            remove repo\n                        }\n                        else if (url.startsWith('https://dl.google.com/dl/android/maven2/')) {\n                            project.logger.lifecycle \"Repository ${repo.url} replaced by $GOOGLE_URL.\"\n                            println(\"buildscript ${repo.url} replaced by $GOOGLE_URL.\")\n                            remove repo\n                        }\n                        else if (url.startsWith('https://repo1.maven.org/maven2')) {\n                            project.logger.lifecycle \"Repository ${repo.url} replaced by $REPOSITORY_URL.\"\n                            println(\"buildscript ${repo.url} replaced by $REPOSITORY_URL.\")\n                            remove repo\n                        }\n                    }\n                }\n                jcenter {\n                    url JCENTER_URL\n                }\n                google {\n                    url GOOGLE_URL\n                }\n                maven {\n                    url NEXUS_URL\n                }\n            }\n        }\n        repositories {\n            def JCENTER_URL = 'https://maven.aliyun.com/repository/public'\n            def GOOGLE_URL = 'https://maven.aliyun.com/repository/google'\n            def NEXUS_URL = 'https://maven.aliyun.com/repository/central'\n            all { ArtifactRepository repo -&gt;\n                if (repo instanceof MavenArtifactRepository) {\n                    def url = repo.url.toString()\n                    if (url.startsWith('https://jcenter.bintray.com/')) {\n                        project.logger.lifecycle \"Repository ${repo.url} replaced by $JCENTER_URL.\"\n                        println(\"buildscript ${repo.url} replaced by $JCENTER_URL.\")\n                        remove repo\n                    }\n                    else if (url.startsWith('https://dl.google.com/dl/android/maven2/')) {\n                        project.logger.lifecycle \"Repository ${repo.url} replaced by $GOOGLE_URL.\"\n                        println(\"buildscript ${repo.url} replaced by $GOOGLE_URL.\")\n                        remove repo\n                    }\n                    else if (url.startsWith('https://repo1.maven.org/maven2')) {\n                        project.logger.lifecycle \"Repository ${repo.url} replaced by $REPOSITORY_URL.\"\n                        println(\"buildscript ${repo.url} replaced by $REPOSITORY_URL.\")\n                        remove repo\n                    }\n                }\n            }\n            jcenter {\n                url JCENTER_URL\n            }\n            google {\n                url GOOGLE_URL\n            }\n            maven {\n                url NEXUS_URL\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"back-end/gradle-ali-mirror/#_1","title":"\u53c2\u8003","text":"<ol> <li>\u5982\u4f55\u6784\u5efa Spring \u6e90\u7801\u73af\u5883\uff1f</li> <li>\u963f\u91cc\u4e91\u4e91\u6548 Maven</li> </ol>"},{"location":"back-end/how-to-user-k3s-deploy-postgresql-for-dev/","title":"\u4f7f\u7528k3s\u90e8\u7f72PostgreSQL\u7528\u4e8e\u5f00\u53d1","text":""},{"location":"back-end/how-to-user-k3s-deploy-postgresql-for-dev/#_1","title":"\u524d\u8a00","text":"<p>PostgreSQL\u662f\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684\u5f00\u6e90\u6570\u636e\u5e93\u3002 \u672c\u6587\u7684\u76ee\u7684\u662f\u4f7f\u7528k3s\u672c\u5730\u90e8\u7f72PostgreSQL\u7528\u4e8e\u672c\u5730\u5f00\u53d1\u4f7f\u7528\uff0c\u4e0d\u5177\u5907\u76f4\u63a5\u4e0a\u751f\u4ea7\u7684\u80fd\u529b\u3002</p>"},{"location":"back-end/how-to-user-k3s-deploy-postgresql-for-dev/#postgresql","title":"\u5b89\u88c5PostgreSQL","text":"<p>\u9996\u5148\u51c6\u5907<code>config.yaml</code>\u7528\u4e8e\u5b9a\u4e49PostgreSQL\u7684\u914d\u7f6e\uff1a</p> <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: postgres-config\n  namespace: default\n  labels:\n    app: postgres\ndata:\n  POSTGRES_USER: postgres\n  POSTGRES_PASSWORD: '123456'\n  POSTGRES_DB: postgres\n</code></pre> <p>\u7533\u8bf7PersistentVolume\u7528\u4e8e\u6570\u636e\u6301\u4e45\u5316\u7684\u5b58\u50a8\uff1a</p> <pre><code>apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: postgres-pv-volume\n  namespace: default\nspec:\n  storageClassName: manual\n  capacity:\n    storage: 5Gi\n  accessModes:\n    - ReadWriteOnce\n  hostPath:\n    path: \"/mnt/data\"\n</code></pre> <p>\u7533\u8bf7PersistentVolumeClaim\u7528\u4e8e\u6570\u636e\u6301\u4e45\u5316</p> <pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: postgres-pv-claim\n  namespace: default\n  labels:\n    type: local\nspec:\n  storageClassName: manual\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 2Gi\n</code></pre> <p>\u6570\u636e\u5e93\u662f\u4e00\u4e2a\u6709\u72b6\u6001\u7684\u670d\u52a1\uff0c\u6211\u8ba4\u4e3aStatefulSet\u6bd4Pod\u66f4\u4e3a\u5408\u9002\uff0c\u6240\u4ee5\u4f7f\u7528StatefulSet\u521b\u5efaPostgreSQL\u5b9e\u4f8b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: postgres\n  namespace: default\nspec:\n  serviceName: \"postgres\"\n  replicas: 1\n  selector:\n    matchLabels:\n      app: postgres\n  template:\n    metadata:\n      labels:\n        app: postgres\n    spec:\n      containers:\n        - name: postgres\n          image: postgres:15.0\n          envFrom:\n            - configMapRef:\n                name: postgres-config\n          ports:\n            - containerPort: 5432\n              name: postgres\n          volumeMounts:\n            - name: postgres-data\n              mountPath: /var/lib/PostgreSQL/data\n      volumes:\n        - name: postgres-data\n          persistentVolumeClaim:\n            claimName: postgres-pv-claim\n</code></pre> <p>\u5b9a\u4e49\u4e00\u4e2aService\u8ba9k3s\u91cc\u7684\u5176\u4ed6pod\u53ef\u4ee5\u8bbf\u95ee\u6570\u636e\u5e93</p> <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: postgres\n  namespace: default\n  labels:\n    app: postgres\nspec:\n  ports:\n    - port: 5432\n      targetPort: 5432\n  type: ClusterIP\n  selector:\n    app: postgres\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u6267\u884ckubectl apply\u547d\u4ee4\u53bb\u521b\u5efa\u5404\u79cd\u8d44\u6e90\uff1a</p> <pre><code>kubectl apply -f config.yaml\nkubectl apply -f pv.yaml\nkubectl apply -f pvc.yaml\nkubectl apply -f statefulset.yaml\n</code></pre> <p>\u8bf7\u5c3d\u91cf\u6309\u7167\u987a\u5e8f\u6267\u884c\u547d\u4ee4</p> <p>\u67e5\u770b\u4e00\u4e0b\u6548\u679c:</p> <pre><code>kubectl get pods \n\nNAME         READY   STATUS    RESTARTS   AGE\npostgres-0   1/1     Running   0          17h\n\n----\nkubectl get services\n\nNAME       TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE\npostgres   ClusterIP   X.X.X.X   &lt;none&gt;        5432/TCP   17h\n</code></pre> <p><code>X.X.X.X</code>\u662f\u4f60k3s\u7684\u96c6\u7fa4\u5185\u90e8\u7f51\u5740\uff0c\u56e0\u4eba\u800c\u5f02</p>"},{"location":"back-end/how-to-user-k3s-deploy-postgresql-for-dev/#pgbouncer","title":"\u914d\u7f6ePgBouncer","text":"<p>PostgreSQL\u662f\u4f7f\u7528\u591a\u8fdb\u7a0b\u7684\u6a21\u5f0f\u53bb\u521b\u5efa\u8fde\u63a5\uff0c\u6240\u4ee5\u521b\u5efa\u8fde\u63a5\u7684\u6210\u672c\u6bd4\u8f83\u9ad8\uff0c\u56e0\u6b64\u63a8\u8350\u4f7f\u7528PgBouncer\u4f5c\u4e3aPostgreSQL\u7684\u8fde\u63a5\u6c60\u7528\u4e8e\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u5e76\u53d1\u6027\u80fd\u3002</p> <p>\u5c06\u4e0a\u6587\u4e2d\u7684PostgreSQL\u4ee3\u7406\u5230\u672c\u5730:</p> <pre><code>kubectl port-forward postgres-0 5432:5432\n</code></pre> <p>\u4f7f\u7528\u4efb\u610f\u65b9\u5f0f\u767b\u5f55\u5230PostgreSQL\u6570\u636e\u5e93\uff0c\u6267\u884c\u4e00\u4e0bsql\u547d\u4ee4:</p> <pre><code>SELECT concat('\"', usename, '\" \"', passwd, '\"') FROM pg_shadow;\n</code></pre> <p>\u5c06\u83b7\u5f97\u7684\u7ed3\u679c\u5199\u5165userlist.txt\u6587\u4ef6\u4e2d</p> <p>\u8be5\u6b65\u9aa4\u4e0d\u53ef\u4ee5\u7701\u7565\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u6570\u636e\u5e93\u5b9e\u4f8b\u5bfc\u51fa\u7684passwd\u662f\u4e0d\u4e00\u6837\u7684\uff01\uff01\uff01</p> <p>\u51c6\u5907pgbouncer.ini\uff1a</p> <pre><code>[databases]\npostgres = host=postgres port=5432 dbname=postgres user=postgres password=123456\n\n[pgbouncer]\nlisten_addr = 0.0.0.0\nlisten_port = 5432\nadmin_users = postgres\nstats_users = postgres\nauth_file = /etc/pgbouncer/userlist.txt\nauth_type = scram-sha-256 \npool_mode = session\nignore_startup_parameters = extra_float_digits\n\n# Log settings\n# admin_users = postgres\n\n# Connection sanity checks, timeouts\nserver_tls_sslmode = prefer\n\n# TLS settings\nclient_tls_sslmode = disable\n</code></pre> <p>\u521b\u5efapgbouncer.yaml\u7528\u4e8e\u5b9a\u4e49pgbouncer\u7684\u914d\u7f6e\u4fe1\u606f</p> <pre><code>#!/bin/sh\nKUBE_NAMESPACE=\"default\"\ncd `dirname $0`\nfor file in *.ini\ndo\n  basename=\"$(basename $file)\"\n  echo $basname\n  echo $file\n  kubectl create secret generic \"${basename%.*}\"-config --namespace=\"$KUBE_NAMESPACE\" --from-file=\"$file\"  --from-file=userlist.txt -o yaml --dry-run=client | tee \"${basename%.*}.yaml\"\ndone\n</code></pre> <p>\u5b9a\u4e49Deployment:</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: pgbouncer\n  namespace: default\n  labels:\n    app: pgbouncer\nspec:\n  revisionHistoryLimit: 10  # removes old replicasets for deployment rollbacks\n  strategy:\n    rollingUpdate:\n      maxUnavailable: 0  # Avoid Terminating and ContainerCreating at the same time\n  selector:\n    matchLabels:\n      app: pgbouncer\n  template:\n    metadata:\n      labels:\n        app: pgbouncer\n    spec:\n      containers:\n        - name: pgbouncer\n          image: rmccaffrey/pgbouncer:1.18.1\n          #imagePullPolicy: Always\n          resources:\n            requests:\n              memory: \"100Mi\"\n              cpu: \"0.5\"\n            limits:\n              memory: \"200Mi\"\n              cpu: \"1\"\n          ports:\n            - containerPort: 5432\n          volumeMounts:\n            - name: configfiles\n              mountPath: \"/etc/pgbouncer\"\n              readOnly: true  # writes update the secret!\n          livenessProbe:\n            tcpSocket:\n              port: 5432\n            periodSeconds: 60\n          lifecycle:\n            preStop:\n              exec:\n                # Allow existing queries clients to complete within 120 seconds\n                command: [\"/bin/sh\", \"-c\", \"killall -INT pgbouncer &amp;&amp; sleep 120\"]\n          securityContext:\n            allowPrivilegeEscalation: false\n            capabilities:\n              drop: ['all']\n      volumes:\n        - name: configfiles\n          secret:\n            secretName: pgbouncer-config\n</code></pre> <p>\u5b9a\u4e49Service:</p> <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: pgbouncer\n  namespace: default\n  labels:\n    app: pgbouncer\nspec:\n  type: ClusterIP\n  ports:\n    - port: 5432\n      targetPort: 5432\n      protocol: TCP\n      name: postgres\n  selector:\n    app: pgbouncer\n</code></pre> <p>\u521b\u5efa\u8d44\u6e90\uff1a</p> <pre><code>kubectl apply -f pgbouncer.yaml\nkubectl apply -f deployment.yaml\nkubectl apply -f service.yaml\n</code></pre> <p>\u67e5\u770b\u6548\u679c\uff1a</p> <pre><code>kubectl get services\n\n---\nNAME        TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE\npostgres    ClusterIP   X.X.X.X        &lt;none&gt;        5432/TCP   17h\npgbouncer   ClusterIP   X.X.X.X        &lt;none&gt;        5432/TCP   50s\n</code></pre> <p>\u4f7f\u7528port-forward\u4ee3\u7406\u5230\u672c\u5730\u8fdb\u884c\u6d4b\u8bd5pgbouncer\u662f\u5426\u80fd\u591f\u6b63\u5e38\u4f7f\u7528\uff1a</p> <pre><code>kubectl port-forward service/pgbouncer 5432:5432\n</code></pre>"},{"location":"back-end/how-to-user-k3s-deploy-postgresql-for-dev/#_2","title":"\u603b\u7ed3","text":"<p>\u672c\u6587\u5b9e\u73b0\u4e86\u4f7f\u7528k3s\u90e8\u7f72PostgreSQL\u548cPgBouncer\uff0c\u53ef\u4ee5\u7528\u4e8e\u4e00\u822c\u7684\u672c\u5730\u5f00\u53d1\u574f\u5883\u4f7f\u7528\uff0c\u4e5f\u5728docker destkop\u4e0a\u6d4b\u8bd5\u901a\u8fc7\uff0c\u4f46\u662f\u6ca1\u6709\u5728minikube\u4e0a\u6d4b\u8bd5\u8fc7\u3002</p> <p>\u4ee5\u4e0a\u8d44\u6e90\u53ef\u4ee5\u5728health-master-deployments-db\u548chealth-master-deployments-pgbouncer\u4e0a\u83b7\u53d6\u3002</p>"},{"location":"back-end/k3s-uses-letsencrypt-and-traefik-to-deploy-the-https/","title":"k3s\u4f7f\u7528Let\u2018s Encrypt\u914d\u7f6ehttps\u5165\u53e3\u90e8\u7f72","text":""},{"location":"back-end/k3s-uses-letsencrypt-and-traefik-to-deploy-the-https/#_1","title":"\u524d\u8a00","text":"<p>\u672c\u6587\u8bb0\u5f55k3s\u4f7f\u7528letsencrypt\u914d\u7f6essl\u8bc1\u4e66\u548c\u7eed\u7b7e\u3002</p> <p>\u672c\u6587\u4f7f\u7528\u7684k3s\u7248\u672c\u4e3a\uff1a v1.23.6+k3s1\u3002</p>"},{"location":"back-end/k3s-uses-letsencrypt-and-traefik-to-deploy-the-https/#cert-manager","title":"\u5b89\u88c5 cert-manager","text":"<pre><code># \u4f7f\u7528\u5b98\u7f51\u63d0\u4f9b\u7684\u914d\u7f6e\u6587\u4ef6\u4e00\u952e\u5b89\u88c5\n# \u5982\u679c\u62c9\u53d6 github \u8d44\u6e90\u6709\u56f0\u96be\uff0c\u53ef\u4ee5\u4ece\u7f51\u7edc\u901a\u7545\u7684\u4f4d\u7f6e\u4e0b\u8f7d\u597d\u7c98\u8d34\u8fc7\u53bb\n$ kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.9.1/cert-manager.yaml\n</code></pre> <p>\u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0ck3s</p> <pre><code>$ kubectl get pods -n cert-manager\nNAME                                       READY   STATUS    RESTARTS   AGE\ncert-manager-6544c44c6b-tlhw8              1/1     Running   0          51s\ncert-manager-cainjector-5687864d5f-rldsg   1/1     Running   0          51s\ncert-manager-webhook-785bb86798-g4g7g      1/1     Running   0          51s\n</code></pre>"},{"location":"back-end/k3s-uses-letsencrypt-and-traefik-to-deploy-the-https/#issuing-certificates","title":"\u90e8\u7f72 Issuing Certificates","text":"<p>\u521b\u5efaletsencrypt.yaml\u6587\u4ef6</p> <pre><code>apiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  namespace: cert-manager\n  name: letsencrypt\nspec:\n  acme:\n    email: &lt;YOUR EMAIL&gt; # replace this\n    privateKeySecretRef:\n      name: prod-issuer-account-key\n    server: https://acme-v02.api.letsencrypt.org/directory\n    solvers:\n      - http01:\n          ingress:\n            class: traefik\n        selector: {}\n</code></pre> <p>\u8bf7\u81ea\u884c\u66ff\u6362\u4e3a\u4e2a\u4eba\u7684\u90ae\u4ef6\u5730\u5740 <p>\u90e8\u7f72</p> <pre><code>$ kubectl apply -f letsencrypt.yaml\n</code></pre> <p>\u5982\u679c\u4e00\u5207\u6b63\u5e38:</p> <pre><code>$ kubectl describe clusterissuer letsencrypt\nName:         letsencrypt\nNamespace:    \nLabels:       &lt;none&gt;\nAnnotations:  &lt;none&gt;\nAPI Version:  cert-manager.io/v1\nKind:         ClusterIssuer\n...\nSpec:\n  Acme:\n    Email:            user@example.com\n    Preferred Chain:  \n    Private Key Secret Ref:\n      Name:  prod-issuer-account-key\n    Server:  https://acme-v02.api.letsencrypt.org/directory\n    Solvers:\n      http01:\n        Ingress:\n          Class:  traefik\n      Selector:\nStatus:\n  Acme:\n    Last Registered Email:  mingguobin@live.com\n    Uri:                    https://acme-v02.api.letsencrypt.org/acme/acct/715199687\n  Conditions:\n    Last Transition Time:  2022-09-03T12:20:23Z\n    Message:               The ACME account was registered with the ACME server\n    Observed Generation:   1\n    Reason:                ACMEAccountRegistered\n    Status:                True\n    Type:                  Ready\nEvents:                    &lt;none&gt;\n</code></pre>"},{"location":"back-end/k3s-uses-letsencrypt-and-traefik-to-deploy-the-https/#ingressssl","title":"\u7ed9Ingress\u914d\u7f6essl","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  namespace: hoteler-namespace\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt\n  name: hoteler-web\nspec:\n  tls:\n  - secretName: hoteler-web-tls\n    hosts:\n      - hoteler.damingerdai.com\n  # ingressClassName: traefik\n  rules:\n  - host: hoteler.damingerdai.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: hoteler-web\n            port:\n              number: 80\n</code></pre> <p>\u6539\u52a8\u5982\u4e0b\uff1a</p> <ol> <li>\u6dfb\u52a0annotations\u7684metadata</li> </ol> <pre><code>annotations:\n  cert-manager.io/cluster-issuer: letsencrypt\n</code></pre> <ol> <li>\u6dfb\u52a0tls</li> </ol> <pre><code>tls:\n- secretName: hoteler-web-tls\n  hosts:\n    - hoteler.damingerdai.com\n</code></pre> <p>secretName\u53ef\u4ee5\u6309\u7167\u81ea\u5df1\u7684\u4e60\u60ef\u6765\u53d6\uff0ccert-manager\u4f1a\u81ea\u52a8\u521b\u5efa</p> <pre><code>$ kubectl apply -f ingress.yaml -n hoteler-namespace\n$ kubectl get ingress -n hoteler-namespace\nhoteler-web                 &lt;none&gt;   hoteler.damingerdai.com         204.44.75.77   80, 443   115d\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230hoteler-web\u9664\u4e8680\u7aef\u53e3\uff0c\u8fd8\u65b0\u52a0\u4e86443\u7aef\u53e3</p>"},{"location":"back-end/k3s-uses-letsencrypt-and-traefik-to-deploy-the-https/#_2","title":"\u67e5\u770b\u8bc1\u4e66\u72b6\u6001","text":"<pre><code>$ kubectl describe certificate -n hoteler-namespace\n...\nStatus:\n  Conditions:\n    Last Transition Time:  2022-09-03T12:27:15Z\n    Message:               Certificate is up to date and has not expired\n    Observed Generation:   1\n    Reason:                Ready\n    Status:                True\n    Type:                  Ready\n  Not After:               2022-12-02T11:27:13Z\n  Not Before:              2022-09-03T11:27:14Z\n  Renewal Time:            2022-11-02T11:27:13Z\n  Revision:                1\nEvents:\n  Type    Reason     Age   From                                       Message\n  ----    ------     ----  ----                                       -------\n  Normal  Issuing    30m   cert-manager-certificates-trigger          Issuing certificate as Secret does not exist\n  Normal  Generated  30m   cert-manager-certificates-key-manager      Stored new private key in temporary Secret resource \"hoteler-web-tls-pfxrp\"\n  Normal  Requested  30m   cert-manager-certificates-request-manager  Created new CertificateRequest resource \"hoteler-web-tls-v24f6\"\n  Normal  Issuing    29m   cert-manager-certificates-issuing          The certificate has been successfully issued\n</code></pre>"},{"location":"back-end/k3s-uses-letsencrypt-and-traefik-to-deploy-the-https/#_3","title":"\u6548\u679c","text":""},{"location":"back-end/k3s-uses-letsencrypt-and-traefik-to-deploy-the-https/#_4","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>k3s \u4f7f\u7528 Letsencrypt \u548c Traefik \u5b8c\u6210 https \u5165\u53e3\u90e8\u7f72</li> <li>K3S\u4e0eDocker\u5e38\u7528\u547d\u4ee4</li> <li>Securing NGINX-ingress</li> <li>Documenting \"context deadline exceeded\" errors relating to the webhook</li> </ol>"},{"location":"back-end/migrate-springdoc-from-springfox/","title":"\u524d\u8a00","text":"<p>\u4e4b\u6240\u4ee5\u8003\u8651\u4ecespringfox\u8fc1\u79fb\u5230springdoc\u662f\u56e0\u4e3a\u6211\u7684\u5f00\u6e90\u9879\u76eehoteler\u5728\u5347\u7ea7\u5230spring boot 2.6\u4e4b\u540e\uff0cUT\u7684CI/CD\u6302\u4e86\uff1a</p> <pre><code>HotelerApplicationTests &gt; contextLoads() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\n        Caused by: org.springframework.context.ApplicationContextException at DefaultLifecycleProcessor.java:181\n            Caused by: java.lang.NullPointerException at WebMvcPatternsRequestConditionWrapper.java:56\n\nErrorPropTest &gt; setErrors() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\n        Caused by: org.springframework.context.ApplicationContextException at DefaultLifecycleProcessor.java:181\n            Caused by: java.lang.NullPointerException at WebMvcPatternsRequestConditionWrapper.java:56\n\n... more\n</code></pre> <p>\u5728\u4e00\u756a\u5b9a\u4f4d\u548c\u8c37\u6b4c\u4e4b\u540e\uff0c\u5728Spring 5.3/Spring Boot 2.4 support\u548cspring boot\u5347\u7ea72.6.0\u3002\u542f\u52a8\u62a5\u9519 \u539f\u56e0\u8be6\u89c1\uff1aspringfox/springfox#3462\u4e2d\u7684\u63d0\u793a\u4e0b\uff0c\u731c\u6d4b\u662fspringfox\u672a\u5347\u7ea7\u5bfc\u81f4\u7684\u4e0d\u517c\u5bb9\u5bfc\u81f4\u7684\u95ee\u9898\u3002\u672c\u6765\u8ba1\u5212\u7b49\u5f85springfox\u5b98\u65b9\u81ea\u884c\u5347\u7ea7\uff0c\u7ed3\u679c\u4e00\u770bgithub\u7684\u63d0\u4ef7\u8bb0\u5f55\uff0cspringfox\u4ece2020\u5e7410\u670814\u53f7\u4e4b\u540e\u5c31\u5728\u4e5f\u6ca1\u6709\u66f4\u65b0\u4ee3\u7801\u4e86\uff0c\u56e0\u6b64\u51b3\u5b9a\uff0c\u4ecespringfox\u8fc1\u79fb\u5230springdoc\u3002</p>"},{"location":"back-end/migrate-springdoc-from-springfox/#_2","title":"\u5907\u6ce8","text":"<p>\u5982\u679c\u4ecd\u7136\u60f3\u5728spring 2.6\u4e4b\u540e\u4f7f\u7528springfox\uff0c\u5efa\u8bae\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\uff1a</p> <pre><code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre> <p>\u66f4\u591a\u4fe1\u606f\u53ef\u4ee5\u53c2\u8003https://github.com/lWoHvYe/eladmin\u3002</p>"},{"location":"back-end/migrate-springdoc-from-springfox/#springfox","title":"\u5220\u9664springfox\u4f9d\u8d56\u548c\u76f8\u5173\u4ee3\u7801","text":"<p>\u9996\u5148\u5220\u9664springfox\u7684\u4f9d\u8d56\uff1a</p> <pre><code># gradle\nio.springfox:springfox-boot-starter:3.0.0`\n\n# maven\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u5220\u9664Controller\u4e0b\u7684swagger\u7684\u6ce8\u89e3\uff0c</p> <p>\u5220\u9664\u81ea\u5b9a\u7684swagger\u7684\u914d\u7f6e\u7c7b\uff0c</p> <p>\u5220\u9664<code>@EnableOpenApi</code></p>"},{"location":"back-end/migrate-springdoc-from-springfox/#springdoc","title":"\u5bfc\u5165springdoc\u4f9d\u8d56","text":"<p>\u5bf9\u4e8egradle\u7528\u6237\uff1a</p> <pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.5.12'\n</code></pre> <p>\u5bf9\u4e8emaven\u7528\u6237\uff1a</p> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.5.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"back-end/migrate-springdoc-from-springfox/#openapi","title":"OpenApi\u914d\u7f6e","text":"<p>\u521b\u5efaOpenApi\u914d\u7f6e\u7c7b</p> <pre><code>@Configuration\npublic class OpenApiConfig {\n\n}\n</code></pre> <p>\u5b9a\u4e49License\uff1a</p> <pre><code>private License license() {\n      return new License()\n              .name(\"MIT\")\n              .url(\"https://opensource.org/licenses/MIT\");\n}\n</code></pre> <p>\u6ce8\uff1a \u8fd9\u91cc\u6211\u91c7\u7528MIT\u7684\u5f00\u6e90\u534f\u8bae\uff0c\u66f4\u591a\u534f\u8bae\uff0c\u8bf7\u8bbf\u95eehttps://opensource.org/licenses\u3002</p> <p>\u5b9a\u4e49Open Api\u7684\u57fa\u672c\u4fe1\u606f\uff1a</p> <pre><code>private Info info() {\n      return new Info()\n              .title(\"Hoteler Open API\")\n              .description(\"\u5927\u660e\u4e8c\u4ee3\")\n              .version(\"v0.0.1\")\n              .license(license());\n}\n</code></pre> <p>\u5b9a\u4e49\u5916\u90e8\u6587\u6863\u4fe1\u606f\uff1a</p> <pre><code>private ExternalDocumentation externalDocumentation() {\n    return new ExternalDocumentation()\n            .description(\"\u5927\u660e\u4e8c\u4ee3\u7684Hoteler\")\n            .url(\"https://github.com/damingerdai/hoteler\");\n}\n</code></pre> <p>\u5b9a\u4e49OpenAPI\u7684spring bean\uff1a</p> <pre><code>@Bean\npublic OpenAPI springShopOpenAPI() {\n    return new OpenAPI()\n            .info(info())\n            .externalDocs(externalDocumentation());\n}\n</code></pre> <p>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49openapi\u7684\u626b\u63cf\u7b56\u7565:</p> <ol> <li>\u57fa\u4e8e\u6307\u5b9a\u63a5\u53e3\u5305\u626b\u63cf</li> </ol> <pre><code>springdoc:\n  packagesToScan: org.daming.hoteler.api.web (\u8fd9\u662f\u6211\u81ea\u5df1\u7684web\u5305)\n</code></pre> <ol> <li>\u57fa\u4e8e\u63a5\u53e3\u8def\u7531\u626b\u63cf</li> </ol> <pre><code>springdoc:\n  pathsToMatch: /api/**, /dev/**\n</code></pre> <p>\u5728controler\u6dfb\u52a0@Tag\u6ce8\u89e3 \u5728controler\u65b9\u6cd5\u4e0a\u6dfb\u52a0@Operation\u6ce8\u89e3 \u5728 @Operation \u6ce8\u89e3\u4e0a\u6dfb\u52a0@Parameters \u548c @Parameter \u8bf4\u660e\uff0c\u7528\u4e8espringdoc\u89e3\u6790controler\u65b9\u6cd5\u7684\u53c2\u6570 \u5728\u7684\u8bf7\u6c42\u4f53\u7c7b\u6dfb\u52a0@Schema\u6ce8\u89e3</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>package org.daming.hoteler.api.web;\n\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\nimport io.swagger.v3.oas.annotations.security.SecurityRequirement;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n...more\n\n/**\n * customer constoller\n *\n * @author gming001\n * @create 2020-12-25 22:13\n **/\n@Tag(name = \"\u5ba2\u6237\", description = \"\u5ba2\u6237 API\")\n@RestController\n@RequestMapping(\"api/v1\")\npublic class CustomerController {\n\n    private ICustomerService customerService;\n\n    private IErrorService errorService;\n\n    @Operation(\n            summary = \"\u521b\u5efa\u5ba2\u6237\u4fe1\u606f\"},\n            parameters = {\n                    @Parameter(name = \"body\", description = \"\u521b\u5efa\u7528\u6237\u4fe1\u606f\u7684\u8bf7\u6c42\u4f53\")\n            }\n    )\n    @PostMapping(\"customer\")\n    public CommonResponse create(@RequestBody CreateCustomerRequest request) {\n        var customer = new Customer().setName(request.getName()).setGender(request.getGender()).setCardId(request.getCardId()).setPhone(request.getPhone());\n        var id =  this.customerService.create(customer);\n        return new DataResponse&lt;&gt;(id);\n    }\n\n    @Operation(summary = \"\u66f4\u65b0\u5ba2\u6237\u4fe1\u606f\")\n    @PutMapping(\"customer\")\n    public CommonResponse update(@RequestBody UpdateCustomerRequest request) {\n        var customer = new Customer().setId(request.getId()).setName(request.getName()).setGender(request.getGender()).setCardId(request.getCardId()).setPhone(request.getPhone());\n        this.customerService.update(customer);\n        return new CommonResponse();\n    }\n\n    @Operation(summary = \"\u83b7\u53d6\u6240\u6709\u7684\u5ba2\u6237\u4fe1\u606f\")\n    @GetMapping(\"customers\")\n    public CommonResponse list() {\n        var list = this.customerService.list();\n        return new ListResponse&lt;&gt;(list);\n    }\n\n\n    @Operation(summary = \"\u5220\u9664\u5ba2\u6237\u4fe1\u606f\")\n    @DeleteMapping(\"customer/{id}\")\n    public CommonResponse delete(@PathVariable(\"id\") String customerId) throws HotelerException {\n        try {\n            var id = Long.valueOf(customerId);\n            this.customerService.delete(id);\n        } catch (NumberFormatException nfe) {\n            var params = new Object[] { nfe.getMessage() };\n            throw errorService.createHotelerException(ErrorCodeConstants.BAD_REQUEST_ERROR_CODEE, params, nfe);\n        } catch (Exception ex) {\n            throw errorService.createHotelerException(ErrorCodeConstants.SYSTEM_ERROR_CODEE, ex);\n        }\n\n        return new CommonResponse();\n    }\n\n    public CustomerController(\n            ICustomerService customerService,\n            IErrorService errorService) {\n        super();\n        this.customerService = customerService;\n        this.errorService = errorService;\n    }\n}\n\n/**\n * create customer request\n *\n * @author gming001\n * @create 2020-12-25 22:15\n **/\n@Schema(name = \"\u521b\u5efa\u5ba2\u6237\u8bf7\u6c42\")\npublic class CreateCustomerRequest implements Serializable {\n\n    private static final long serialVersionUID = -7819607546063963266L;\n\n    @Schema(name = \"\u540d\u5b57\")\n    private String name;\n\n    private Gender gender;\n\n    private String cardId;\n\n    private long phone\uff1a\n\n    ...more\n}\n\n</code></pre>"},{"location":"back-end/migrate-springdoc-from-springfox/#jwttoken","title":"\u6dfb\u52a0\u5bf9JWT\u5bf9token\u7684\u652f\u6301(\u672c\u6b65\u9aa4\u53ef\u9009)","text":"<p>\u5728\u6dfb\u52a0OpenApiConfig\u7c7b\u4e0a\u6dfb\u52a0Components\u4fe1\u606f\uff1a</p> <pre><code>private Components components() {\n    return new Components()\n            .addSecuritySchemes(\"bearer-key\", new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(\"bearer\").bearerFormat(\"JWT\"));\n}\n</code></pre> <p>\u7136\u540e\u5728OpenApi\u4e2d\u6ce8\u518cComponents:</p> <pre><code>  @Bean\n  public OpenAPI springShopOpenAPI() {\n      return new OpenAPI()\n              .info(info())\n              .components(components())\n              .externalDocs(externalDocumentation());\n}\n</code></pre> <p>\u5728\u9700\u8981\u4f7f\u7528Authorization\u7684\u63a5\u53e3\u4e0a\u6dfb\u52a0\uff1a</p> <pre><code>@Operation(security = { @SecurityRequirement(name = \"bearer-key\") })\n</code></pre>"},{"location":"back-end/migrate-springdoc-from-springfox/#swagger-ui","title":"swagger-ui","text":"<p>\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165http://127.0.0.1:8443/swagger-ui.html\u6216\u8005http://localhost:8443/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config</p> <p>\u6ce8\uff1a 8443\u662f\u6211\u4e2a\u4eba\u6bd4\u8f83\u559c\u6b22\u7684web\u5f00\u53d1\u7684\u7aef\u53e3\u5360\u7528\uff0c\u4e00\u822c\u4eba\u4f7f\u75288080\u6bd4\u8f83\u591a\u3002</p>"},{"location":"back-end/migrate-springdoc-from-springfox/#_3","title":"\u6548\u679c","text":""},{"location":"back-end/migrate-springdoc-from-springfox/#github","title":"Github","text":"<p>feat: \u4ecespringfox\u8fc1\u79fb\u5230springdoc\u4ee5\u53ca\u4fee\u590dAuthenticationFilter\u8fc7\u6ee4\u5931\u8d25\u7684\u95ee\u9898</p>"},{"location":"back-end/pg_dump_ssl_issues/","title":"\u8bb0\u5f55\u4f7f\u7528pg_dump\u4e2d\u9047\u5230\u7684ssl\u95ee\u9898","text":""},{"location":"back-end/pg_dump_ssl_issues/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u5728\u4f7f\u7528<code>pg_dump</code>\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u4e24\u4e2a\u95ee\u9898\uff1a</p> <ol> <li>SSL connection is required. Please specify SSL options and retry.</li> <li>SSL error: unsafe legacy renegotiation disabled</li> </ol>"},{"location":"back-end/pg_dump_ssl_issues/#ssl-option","title":"SSL option\u95ee\u9898","text":"<p>\u8fd9\u662f\u56e0\u4e3apostgresql\u9700\u8981\u4f7f\u7528TLS/SSL connections\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u73af\u5883\u53d8\u91cf<code>PGSSLMODE</code>\u4e3a<code>required</code>\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u9488\u5bf9Linux\u6216\u8005Macos\u7528\u6237\uff0c\u4f7f\u7528:</p> <pre><code>export PGSSLMODE=require\n</code></pre> <p>\u9488\u5bf9Windows\u7528\u6237\uff0c\u4f7f\u7528:</p> <pre><code>SET PGSSLMODE=require\n</code></pre>"},{"location":"back-end/pg_dump_ssl_issues/#unsafe-legacy-renegotiation-disabled","title":"unsafe legacy renegotiation disabled","text":"<p>\u8fd9\u662f\u56e0\u4e3assl\u534f\u8bae\u5b58\u5728\u4e00\u4e2a\u6f0f\u6d1e\uff0c\u540e\u6765\u5347\u7ea7\u7684\u65f6\u5019\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f00\u5173\u9ed8\u8ba4\u5173\u95ed\u8fd9\u4e2a\u4e86\u6f0f\u6d1e\uff0c\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6cd5\u5b58\u5728\u4e00\u5b9a\u5b89\u5168\u9690\u60a3\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\u3002</p> <p>\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684<code>openssl.cnf</code>,\u5e76\u5199\u5165\uff1a</p> <pre><code>openssl_conf = openssl_init\n\n[openssl_init]\nssl_conf = ssl_sect\n\n[ssl_sect]\nsystem_default = system_default_sect\n\n[system_default_sect]\nOptions = UnsafeLegacyRenegotiation\n</code></pre> <p>\u5c06\u8be5config\u6587\u4ef6\u7684\u8def\u5f84\u5199\u5165\u540d\u4e3a<code>OPENSSL_CONF</code>\u7684\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>export OPENSSL_CONF=/path/to/custom/openssl.cnf\n</code></pre>"},{"location":"back-end/pg_dump_ssl_issues/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>Migrate your PostgreSQL database by using dump and restore</li> <li>SSL error unsafe legacy renegotiation disabled</li> </ol>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/","title":"\u4e24\u79cd\u5728Minikube\u4e2d\u8fd0\u884c\u672c\u5730Docker\u955c\u50cf\u7684\u7b80\u5355\u65b9\u5f0f","text":""},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#_1","title":"\u524d\u8a00","text":"<p>\u672c\u6587\u5c06\u5206\u4eab\u4e24\u79cd\u5728Minikube\u4e2d\u8fd0\u884c\u672c\u5730Docker\u955c\u50cf\u7684\u7b80\u5355\u65b9\u5f0f</p> <p></p>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#_2","title":"\u8981\u6c42","text":"<ul> <li>\u5b89\u88c5\u5e76\u8fd0\u884cDocker</li> <li>\u5b89\u88c5\u5e76\u8fd0\u884cMinikube</li> <li>\u5b89\u88c5kubectl</li> </ul>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#_3","title":"\u4f60\u5c06\u5b66\u5230\u7684\u77e5\u8bc6","text":"<p>\u672c\u6587\u5c06\u6559\u4f1a\u5927\u5bb6\u5982\u4f55\u5728Minikube\u4e2d\u4f7f\u7528\u672c\u5730\u7684Docker\u955c\u50cf\u3002\u56e0\u4e3aKubernetes\u9ed8\u8ba4\u4ece\u6ce8\u518c\u8868\u4e2d\u63d0\u53d6\u955c\u50cf\uff0c\u6240\u4ee5Kubernetes\u4e00\u822c\u662f\u4e0d\u4f1a\u4f7f\u7528\u672c\u5730\u955c\u50cf\uff0c\u5e76\u4e14\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4e5f\u4e0d\u5e94\u8be5\u4f7f\u7528\u672c\u5730\u955c\u50cf\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u4f7f\u7528\u672c\u5730\u955c\u50cf\uff0c\u800c\u4e0d\u662f\u6bcf\u6b21\u90fd\u9700\u8981\u5c06\u8fd9\u4e9b\u955c\u50cf\u63a8\u9001\u5230\u8fdc\u7a0b\u7684\u6ce8\u518c\u8868\u3001\u767b\u5f55\u8fdc\u7a0b\u6ce8\u518c\u8868\u5e76\u5728\u672c\u5730\u7535\u8111\u4e2d\u91cd\u65b0\u62c9\u53d6\uff0c\u90a3\u4e48\u4f7f\u7528\u672c\u5730\u955c\u50cf\u5c06\u5341\u5206\u4fbf\u5229\u3002</p> <p>\u548c\u5f80\u5e38\u4e00\u6837\uff0c\u6211\u5728github\u4e2d\u51c6\u5907\u4e86\u4e00\u4e2a\u4ed3\u5e93, \u65b9\u4fbf\u5927\u5bb6\u67e5\u770b\u5b8c\u6210\u7684\u4ee3\u7801\u5e93\uff0c\u5e76\u4e14\u53ef\u4ee5\u6309\u7167\u672c\u6587\u63cf\u8ff0\u7684\u6b65\u9aa4\u8fdb\u884c\u64cd\u4f5c\u3002</p>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#demo","title":"Demo\u4ecb\u7ecd","text":"<pre><code>/\n|- app/\n  |- Dockerfile\n  |- index.js\n  |- package.json\n|- deployment.yaml\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u6587\u4ef6\u5939\u7ed3\u6784\u4e2d\uff0c\u6211\u5c06\u91cd\u70b9\u4ecb\u7ecd\u5c06\u5728\u672c\u6587\u4e2d\u4f7f\u7528\u7684\u91cd\u70b9\u6587\u4ef6\uff1a</p> <ul> <li> <p>app/Dockerfile \u7528\u4e8e\u6784\u5efa\u5305\u542b\u4e00\u4e2aNode.js Web \u670d\u52a1\u5668\u7684\u672c\u5730Docker\u955c\u50cf\u7684Dockerfile\uff0c\u6211\u4eec\u5c06\u5176\u90e8\u7f72\u5230Minikube</p> </li> <li> <p>app/index.js Node.js Web \u670d\u52a1\u5668\u7684\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801</p> </li> <li> <p>app/package.json* \u6211\u4eecNode.js Web \u670d\u52a1\u5668\u7684\u4f9d\u8d56\u3002\u5728\u672c\u6587\u4e2d\uff0c\u53ea\u4f7f\u7528\u4e86express**\uff0c\u4e00\u4e2a\u7528\u4e8e\u642d\u5efaWeb\u670d\u52a1\u5668\u7684Nodejs\u5e93</p> </li> <li> <p>deployment.yaml \u5728Kubernetes\u4e2d\u8fd0\u884cNode.js Web \u670d\u52a1\u5668\u7684Deployment\u914d\u7f6e</p> </li> </ul> <p>app\u6587\u4ef6\u5939\u4e2d\u7684\u5b9e\u9645\u5185\u5bb9\u548c\u672c\u6587\u65e0\u5173\u3002 \u6211\u4ec5\u4ec5\u662f\u63d0\u4f9b\u4e00\u4e2ademo\u65b9\u4fbf\u63a5\u4e0b\u6765\u7684\u6559\u7a0b\u8bb2\u89e3\uff0c\u5f53\u7136\u4f7f\u7528\u4f60\u81ea\u5df1\u7684demo\u4e5f\u662f\u53ef\u4ee5\u7684\u3002\u5982\u679c\u4f60\u60f3\u8981\u4f7f\u7528app\u8fd9\u4e2a\u5e94\u7528\uff0c\u8bf7\u6ce8\u610f\u670d\u52a1\u5668\u5c06\u5728\u5bb9\u5668\u5185\u90e8\u4e2d\u76d1\u542c8080\u7aef\u53e3\u3002</p>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#deployment","title":"Deployment\u914d\u7f6e","text":"<p>deployment.yaml\u7684\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: myapp\n  labels:\n    name: myapp\nspec:\n  selector:\n    matchLabels:\n      name: myapp\n  template:\n    metadata:\n      labels:\n        name: myapp\n    spec:\n      containers:\n        - name: myapp\n          image: pz/demo\n          imagePullPolicy: Never\n          ports:\n            - containerPort: 8080\n</code></pre> <p>\u6211\u4eec\u9700\u8981\u91cd\u70b9\u5173\u6ce8\u7684\u662fimagePullPolicy\u548ccontainerPort\u8fd9\u4e24\u4e2a\u914d\u7f6e</p> <p>\u901a\u8fc7containerPort\uff0c\u6211\u4eec\u5c06\u66b4\u9732app\u6b63\u5728\u76d1\u542c\u76848080\u7aef\u53e3\uff0c\u56e0\u6b64\u6211\u4eec\u7a0d\u540e\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95eehttp://127.0.0.1:8080\u53bb\u9a8c\u8bc1\u662f\u5426\u6ee1\u8db3\u6211\u4eec\u9884\u671f\u90a3\u6837\u5de5\u4f5c\u3002</p> <p>\u66f4\u5173\u952e\u7684\u662fimagePullPolicy\u3002\u5982\u679c\u4f60\u60f3\u4f7f\u7528\u672c\u5730Docker\u955c\u50cf\uff0cimagePullPolicy\u9700\u8981\u8bbe\u7f6e\u6210Never, \u5426\u5219\uff0c Kubernetes\u5c06\u5728\u6ce8\u518c\u8868\u4e2d\u6839\u636e\u4f60\u63d0\u4f9b\u7684\u540d\u5b57\u6765\u641c\u7d20\u540c\u540d\u955c\u50cf\u3002</p>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#dcoker","title":"\u6784\u5efaDcoker\u955c\u50cf","text":"<p>\u4e3a\u4e86\u9a8c\u8bc1Docker\u955c\u50cf\u80fd\u591f\u6309\u7167\u6211\u4eec\u7684\u9884\u671f\u5728Kubernetes\u4e2d\u8fd0\u884c\uff0c\u8ba9\u6211\u4eec\u6765\u6784\u5efa\u5e76\u8fd0\u884c\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u822a\u8fdb\u5165app\u76ee\u5f55\uff0c\u7136\u540e\u6211\u4eec\u901a\u8fc7docker build -t pz/demo .\u6784\u5efaDocker\u955c\u50cf\uff0c\u901a\u8fc7-t\u53c2\u6570\u5c06\u955c\u50cf\u540d\u5b57\u8bbe\u7f6e\u4e3apz/demo\u3002</p> <p></p> <p>\u5f53\u6784\u5efa\u5b8c\u6210\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7docker run -it --rm -p 8080:8080 pz/demo\u547d\u4ee4\u6765\u8fd0\u884c\u5bb9\u5668\uff0c\u5e76\u5c06Docker\u76848080\u7aef\u53e3\u6620\u5c04\u7684\u672c\u5730\u76848080\u7aef\u53e3\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95eelocalhost:8080\u3002 \u5982\u679c\u6211\u4eec\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u770b\u5230\"Hello World!\"\uff0c\u90a3\u4e48\u8bf4\u660e\u6211\u4eec\u7684\u5bb9\u5668\u8fd0\u884c\u6b63\u5e38\u3002</p> <p></p>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#minikubedocker_1","title":"\u5728Minikube\u4e2d\u8fd0\u884c\u672c\u5730Docker\u955c\u50cf","text":"<p>\u5982\u679c\u4f60\u60f3\u901a\u8fc7kubectl apply -f deployment.yaml\u547d\u4ee4\u90e8\u7f72\u4e0a\u9762\u7684deployment.yaml\u5230\u4f60\u7684Minikube\u4e2d\uff0c\u90a3\u542f\u52a8\u7684Pod\u5c06\u627e\u4e0d\u5230\u4f60\u521a\u521a\u6784\u5efa\u7684Docker\u955c\u50cf\u3002</p> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7kubectl logs deployment.apps/myapp\u547d\u4ee4\u6765\u68c0\u67e5\u65e5\u5fd7\u53bb\u6765\u9a8c\u8bc1\u8fd9\u4e2a\u9519\u8bef\u7684\u7ed3\u679c\u3002</p> <p></p> <p>\u4e0a\u9762\u7684\u65e5\u5fd7\u663e\u793a\u7531\u4e8eKubernetes\u62c9\u53d6\u4e0d\u5230\u955c\u50cfPod\u4e00\u76f4\u7b49\u5f85\u91cd\u542f\u3002\u8fd9\u5176\u5b9e\u662f\u56e0\u4e3aMinikube\u6ca1\u6709\u65b9\u6cd5\u83b7\u53d6\u4f60\u672c\u5730Docker\u955c\u50cf\u3002</p> <p>\u4f46\u662f\u5e78\u8fd0\u7684\u662f\uff0c\u6709\u4e24\u4e2a\u7b80\u5355\u7684\u547d\u4ee4\u53ef\u4ee5\u5e2e\u52a9\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u7b2c\u4e00\u79cd\u65b9\u5f0f\u662f\u4f7f\u7528image load\u547d\u4ee4\uff0c \u4f60\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u540d\u5229\u5c06\u672c\u5730Docker\u955c\u50cf\u4ece\u672c\u5730\u7535\u8111\u4e2d\u5bfc\u5165Minikube\u4e2d\uff1a</p> <pre><code># General\nminikube image load &lt;IMAGE_NAME&gt;\n# Example\nminikube image load pz/demo\n</code></pre> <p>\u5728\u5bfc\u5165\u5b8c\u6210\u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u91cd\u542fpod\u3002\u7136\u540e\u4f60\u53ef\u4ee5\u53d1\u73b0pod\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002</p> <p>\u5176\u5b9e\u6211\u4eec\u8fd8\u53ef\u4ee5\u53d8\u5f97\u66f4\u7b80\u5355\u3002\u4ee5\u524d\u7684\u65b9\u6cd5\u662f\u4f60\u9700\u5440\u5148\u5728\u672c\u5730\u6784\u5efaDocker\u955c\u50cf\uff0c\u7136\u540e\u5c06\u5176\u79fb\u52a8\u5230Minikube\u5bb9\u5668\u4e2d\uff0c\u867d\u7136\u8017\u65f6\u4e0d\u591a\uff0c\u4f46\u662f\u7ec8\u7a76\u8fd8\u662f\u6d6a\u8d39\u4e86\u4e0d\u5c11\u65f6\u95f4\u3002</p> <p>\u901a\u8fc7\u4f7f\u7528Minikube\u7684image build\uff0c \u6211\u4eec\u53ef\u4ee5\u5728Minikube\u4e2d\u76f4\u63a5\u6784\u5efa\u955c\u50cf\uff1a</p> <pre><code># General\nminikube image build -t &lt;IMAGE_NAME&gt; .\n# Example\nminikube image build -t pz/demo .\n</code></pre> <p>\u4f7f\u7528minikube image build\u6784\u5efa\u51fa\u6765\u7684\u955c\u50cf\u53ef\u4ee5\u5728Minikkube\u4e2d\u76f4\u63a5\u8bbf\u95ee\uff0c\u540c\u65f6\u4e5f\u4e0d\u518d\u9700\u8981\u5728minikube image load\u4e2d\u7684\u7b2c\u4e8c\u6b65\u5bfc\u5165\u6b65\u9aa4\u3002</p> <p>\u4f7f\u7528\u4ee5\u4e0a\u4e24\u79cd\u4e4b\u4e00\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u91cd\u65b0\u68c0\u67e5\u4e00\u4e0bDeployment\u7684\u65e5\u5fd7\uff1a</p> <p></p> <p>\u4e3a\u4e86\u8fdb\u4e00\u6b65\u9a8c\u8bc1\u4e00\u5207\u662f\u5426\u6309\u7167\u6211\u4eec\u9884\u671f\u7684\u5de5\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5c06\u672c\u57308080\u7aef\u53e3\u8f6c\u53d1\u53d1Deployment\u76848080\u7aef\u53e3\u4e2d\uff1a</p> <pre><code>kubectl port-forward deployment/myapp 8080:8080\n</code></pre> <p>\u91cd\u65b0\u68c0\u67e5\u6d4f\u89c8\u5668\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u672c\u5730\u6784\u5efa\u7684\u5e94\u7528\u5728Minikube\u4e2d\u8fd0\u884c\u6b63\u5e38\uff0c\ud83c\udf89\ud83c\udf89\ud83c\udf89</p> <p></p>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#_4","title":"\u603b\u7ed3","text":"<p>\u901a\u8fc7\u672c\u6587\uff0c\u4f60\u5e94\u8be5\u80fd\u591f\u4f7f\u7528minikube image load\u548cminikube image buildcommand\u547d\u4ee4\u5728Minikube\u4e2d\u4f7f\u7528\u672c\u5730\u955c\u50cf\u4e86.</p> <p>\u66f4\u591a\u4fe1\u606f\u8bf7\u5173\u6ce8LinkedIn</p>"},{"location":"back-end/two-easy-ways-to-use-local-docker-images-in-minikube/#_5","title":"\u540e\u8a00","text":"<p>\u539f\u6587\uff1aTwo easy ways to use local Docker images in Minikube</p> <p>\u8bd1\u6587\uff1a \u4e24\u79cd\u5728Minikube\u4e2d\u8fd0\u884c\u672c\u5730Docker\u955c\u50cf\u7684\u7b80\u5355\u65b9\u5f0f</p> <p>\u8bd1\u8005\uff1a\u5927\u660e\u4e8c\u4ee3</p>"},{"location":"back-end/windows_docker_port_in_use_issues/","title":"\u89e3\u51b3Windows\u4e0bDocker\u542f\u52a8\u5bb9\u5668\u65f6\uff0c\u7aef\u53e3\u88ab\u5360\u7528\u9519\u8bef","text":""},{"location":"back-end/windows_docker_port_in_use_issues/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u5728\u4f7f\u7528docker-compose\u542f\u52a8mysql\u7684\u65f6\u5019\u9047\u5230\u4e00\u4e2a\u95ee\u9898:</p> <pre><code>bind: An attempt was made to access a socket in a way forbidden by its access permissions.\n</code></pre> <p>\u7136\u540e\u67e5\u4e86\u4e00\u4e0b\u662f\u5426\u5b58\u5728\u5e94\u7528\u5360\u7528\u4e863306\u7684\u7aef\u53e3\uff1a</p> <pre><code>netstat -ano | findstr 3306\n</code></pre> <p>\u7ed3\u679c\u5f88\u5c34\u5c2c\uff0c\u5e76\u6ca1\u6709\u3002\u3002\u3002</p> <p>\u767e\u5ea6\u4e86\u4e00\u4e0b\uff0c\u53d1\u73b0\u662f<code>Hyper-V</code>\u4f1a\u4fdd\u7559\u90e8\u5206tcp\u7aef\u53e3\u5bfc\u81f4\u6211\u4eec\u81ea\u5df1\u65e0\u6cd5\u4f7f\u7528\u8fd9\u4e9b\u7aef\u53e3, \u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\u4fdd\u7559\u7684\u7aef\u53e3\uff1a</p> <pre><code>netsh interface ipv4 show excludedportrange protocol=tcp\n\n\u534f\u8bae tcp \u7aef\u53e3\u6392\u9664\u8303\u56f4\n\n\u5f00\u59cb\u7aef\u53e3    \u7ed3\u675f\u7aef\u53e3\n----------    --------\n      1026        1125\n      1126        1225\n      1226        1325\n      1326        1425\n      1426        1525\n      1538        1637\n      2327        2426\n      2427        2526\n      2527        2626\n      2627        2726\n      2727        2826\n      2827        2926\n      6344        6567\n     50000       50059     *\n     50070       50070     *\n\n* - \u7ba1\u7406\u7684\u7aef\u53e3\u6392\u9664\u3002\n\n</code></pre>"},{"location":"back-end/windows_docker_port_in_use_issues/#_2","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u89e3\u51b3\u65b9\u6848\u5f88\u591a\uff0c\u4f46\u662f\u6700\u63a8\u8350\u7684\u8be5\u5e02\u4fee\u6539\u6c38\u4e45\u6392\u9664\u4fdd\u7559\u7aef\u53e3\uff1a</p> <p>\u9996\u9009\u5173\u95eddocker, \u7528\u7ba1\u7406\u5458\u6743\u9650\u6253\u5f00powershell\uff0c \u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u7528\u4e8e\u5173\u95edHyper-V:</p> <pre><code>dism.exe /Online /Disable-Feature:Microsoft-Hyper-V\n</code></pre> <p>\u8be5\u64cd\u4f5c\u53ef\u80fd\u9700\u8981\u91cd\u542f</p> <p>\u7136\u540e\u5c063306\u7aef\u53e3\u6c38\u4e45\u6392\u9664\uff1a</p> <pre><code>netsh int ipv4 add excludedportrange protocol=tcp startport=3306 numberofports=1 store=persistent\n</code></pre> <p>\u6700\u540e\u91cd\u542fHyper-V:</p> <pre><code>dism.exe /Online /Enable-Feature:Microsoft-Hyper-V /All\n</code></pre>"},{"location":"back-end/windows_docker_port_in_use_issues/#_3","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>\u89e3\u51b3Windows\u4e0bDocker\u542f\u52a8\u5bb9\u5668\u65f6\uff0c\u7aef\u53e3\u88ab\u5360\u7528\u9519\u8bef</li> <li>\u4fee\u6539Hyper-V\u52a8\u6001\u7aef\u53e3\u8303\u56f4</li> </ol>"},{"location":"blockchain/some-token-faucet/","title":"\u8bb0\u5f55\u4e00\u4e9b\u6d4b\u8bd5\u5e01\u7684\u6c34\u9f99\u5934","text":"<p>\u8bb0\u5f55\u4e00\u4e9b\u5e38\u7528\u7684\u533a\u5757\u94fe\u6c34\u9f99\u5934\uff0c\u4ee5\u9632\u5fd8\u8bb0</p>"},{"location":"blockchain/some-token-faucet/#goerli","title":"Goerli","text":"<p>Goerli Testnet Faucet: \u4e0d\u592a\u8bb0\u5f97\u5f53\u521d\u662f\u600e\u4e48\u77e5\u9053\u4e86\uff0c\u4f46\u662f\u4f3c\u4e4e\u6c38\u8fdc\u5931\u8d25...</p> <p>GOERLI FAUCET, \u6bcf\u5929\u53ef\u4ee5\u83b7\u53d60.1 ETH(\u4ee5\u524d\u662f\u53ef\u4ee5\u6bcf\u5929\u9886\u53d60.25ETH), \u9700\u8981\u4f7f\u7528Alchemy\u8d26\u53f7.</p> <p>Mining Faucet, \u4f7f\u7528cpu\u7684\u7b97\u529b\u53bb\u6316\u77ff\uff0c\u95ee\u9898\u4e0d\u5927\uff0c\u53ef\u4ee5\u4f7f\u7528\u3002</p>"},{"location":"blockchain/some-token-faucet/#polygon","title":"polygon","text":"<p>polygon faucet, \u652f\u6301\u591a\u4e2a\u6d4b\u8bd5\u7f51\u7edc\uff0c\u4f46\u662fGoerli\u7684ETH\u6ca1\u62ff\u5230</p>"},{"location":"blockchain/some-token-faucet/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>\u514d\u8cbb\u53d6\u5f97Goerli\u6e2c\u8a66\u5e63</li> </ol>"},{"location":"front-end/angular-standalone-components-app/","title":"Angular\u72ec\u7acb\u7ec4\u4ef6\u7b80\u5355\u4f53\u9a8c","text":""},{"location":"front-end/angular-standalone-components-app/#_1","title":"\u524d\u8a00","text":"<p>Angular 14\u4e00\u9879\u4ee4\u4eba\u5174\u594b\u7684\u7279\u6027\u5c31\u662fAngular\u7684\u72ec\u7acb\u7ec4\u4ef6\u7ec8\u4e8e\u6765\u4e86\u3002</p> <p>\u5728Angular 14\u4e2d\uff0c \u5f00\u53d1\u8005\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528\u72ec\u7acb\u7ec4\u4ef6\u5f00\u53d1\u5404\u79cd\u7ec4\u4ef6\uff0c\u4f46\u662f\u503c\u5f97\u6ce8\u610f\u7684\u662fAngular\u72ec\u7acb\u7ec4\u4ef6\u7684API\u4ecd\u7136\u6ca1\u6709\u7a33\u5b9a\u4e0b\uff0c\u5c06\u6765\u53ef\u80fd\u5b58\u5728\u4e00\u4e9b\u7834\u574f\u6027\u66f4\u65b0\uff0c\u6240\u4ee5\u4e0d\u63a8\u8350\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u3002</p>"},{"location":"front-end/angular-standalone-components-app/#_2","title":"\u5982\u4f55\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7ec4\u4ef6","text":"<p>\u5bf9\u4e8e\u5df2\u6709\u7684\u7ec4\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728<code>@Component()</code>\u4e2d\u6dfb\u52a0standalone: true\u7684\u6807\u8bc6\uff0c\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5728\u6ca1\u6709<code>@NgModule()</code>\u7684\u60c5\u51b5\u4e0b\u76f4\u63a5\u4f7f\u7528<code>imports</code>\u5bfc\u5165\u5176\u4ed6\u6a21\u5757\u4e86\u3002 \u5982\u679c\u662f\u65b0\u5efa\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528<code>ng generate component &lt;name&gt; --standalone</code>\u7684\u547d\u4ee4\uff0c\u76f4\u63a5\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7ec4\u4ef6, \u4f8b\u5982\uff1a</p> <pre><code>ng generate component button-list --standalone\n</code></pre> <pre><code>@Component({\n  selector: 'app-button-list',\n  standalone: true,\n  imports: [\n    CommonModule,\n  ],\n  templateUrl: './button-list.component.html',\n  styleUrls: ['./button-list.component.scss']\n})\nexport class ButtonListComponent implements OnInit\n</code></pre>"},{"location":"front-end/angular-standalone-components-app/#_3","title":"\u5728\u72ec\u7acb\u7ec4\u4ef6\u4e2d\u5bfc\u5165\u5df2\u6709\u7684\u6a21\u5757","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5728<code>imports</code>\u4e2d\u6dfb\u52a0\u5df2\u6709\u7684\u6a21\u5757\uff0c\u4ee5<code>MatButtonModule</code>\u4e3a\u4f8b\uff1a</p> <pre><code>imports: [\n    CommonModule,\n    MatButtonModule,\n],\n</code></pre> <p>\u8fd9\u6837\u5b50\u6211\u4eec\u5c31\u53ef\u4ee5\u5728<code>ButtonListComponent</code>\u4e2d\u4f7f\u7528<code>MatButtonModule</code>\u7684<code>mat-button</code>\u7ec4\u4ef6\u4e86\uff1a</p> <pre><code>&lt;button mat-button&gt;Basic&lt;/button&gt;\n&lt;button mat-button color=\"primary\"&gt;Primary&lt;/button&gt;\n&lt;button mat-button color=\"accent\"&gt;Accent&lt;/button&gt;\n&lt;button mat-button color=\"warn\"&gt;Warn&lt;/button&gt;\n&lt;button mat-button disabled&gt;Disabled&lt;/button&gt;\n&lt;a mat-button href=\"https://damingerdai.github.io\" target=\"_blank\"&gt;Link&lt;/a&gt;\n</code></pre> <p>\u6548\u679c\u56fe\uff1a</p> <p></p>"},{"location":"front-end/angular-standalone-components-app/#angular_1","title":"\u4f7f\u7528\u72ec\u7acb\u7ec4\u4ef6\u542f\u52a8Angular\u5e94\u7528","text":"<p>\u7b2c\u4e00\u6b65\uff0c \u5c06<code>AppComponent</code>\u8bbe\u7f6e\u4e3a\u72ec\u7acb\u7ec4\u4ef6\uff1a</p> <pre><code>@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  standalone: true,\n})\nexport class AppComponent {\n    ...\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff0c\u5c06<code>AppModule</code>\u7684imports\u4e2d\u7684\u5bfc\u5165\u7684\u6a21\u5757\u52a0\u5165\u5230<code>AppComponent</code>\u7684imports\u4e2d,\u4f46\u662f\u6709\u4e24\u4e2a\u6a21\u5757\u4f8b\u5916\uff1a <code>BrowserModule</code>\u548c<code>BrowserAnimationsModule</code>\u3002</p> <p>\u5982\u679c\u5bfc\u5165\u7684\u8bdd\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 <code>BrowserModule</code> have already been loaded. If you need access to common directives such as NgIf and NgFor, import the <code>CommonModule</code> instead.\u7684\u95ee\u9898\uff1a</p> <p></p> <p>\u7b2c\u4e09\u6b65\uff0c\u5220\u9664<code>app.module.ts</code>\u6587\u4ef6</p> <p>\u6700\u540e\u4e00\u6b65\uff0c \u5c06<code>main.ts</code>\u4e2d\u7684\uff1a</p> <pre><code>import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err =&gt; console.error(err));\n</code></pre> <p>\u6539\u4e3a\uff1a</p> <pre><code>bootstrapApplication(AppComponent).catch(err =&gt; console.error(err));\n</code></pre> <p>\u8fd9\u6837\u5b50\u6211\u4eec\u5c31\u5b9e\u73b0\u4e86\u4f7f\u7528\u72ec\u7acb\u7ec4\u4ef6\u542f\u52a8Angular\u7ec4\u4ef6\u4e86\u3002</p>"},{"location":"front-end/angular-standalone-components-app/#_4","title":"\u4e3a\u72ec\u7acb\u7ec4\u4ef6\u914d\u7f6e\u8def\u7531","text":"<p>\u6211\u8fd9\u91cc\u5206\u522b\u6709\u4e09\u4e2a\u72ec\u7acb\u7ec4\u4ef6\uff1a <code>HomeComponent</code>, <code>ButtonListComponent</code> \u548c <code>ChipListComponent</code>\uff0c</p> <p>\u7136\u540e\u5728<code>main.ts</code>\u4e2d\u521b\u5efaROUTES\u5bf9\u8c61</p> <pre><code>const ROUTES: Route[] = [\n  {\n    path: '',\n    pathMatch: 'full',\n    redirectTo: 'home'\n  },\n  {\n    path: 'home',\n    component: HomeComponent\n  },\n  {\n    path: 'button',\n    loadComponent: () =&gt;\n      import('./app/button-list/button-list.component').then(\n        (mod) =&gt; mod.ButtonListComponent\n      ),\n  },\n  {\n    path: 'chip',\n    loadComponent: () =&gt;\n      import('./app/chip-list/chip-list.component').then(\n        (mod) =&gt; mod.ChipListComponent\n      ),\n  },\n];\n</code></pre> <p>\u5176\u4e2d<code>ButtonListComponent</code>\u548c<code>ChipListComponent</code>\u4f7f\u7528<code>loadComponent</code>\u53bb\u5b9e\u73b0\u8def\u7531\u61d2\u52a0\u8f7d\u3002</p> <p>\u6700\u540e\u5728<code>bootstrapApplication</code>\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e2d\u4f7f\u7528<code>providers</code>\u6ce8\u518c<code>RouterModule</code>\u597d\u4e86\u3002</p> <pre><code>bootstrapApplication(AppComponent, {\n  providers: [\n    importProvidersFrom(RouterModule.forRoot([...ROUTES])),\n  ],\n}).catch(err =&gt; console.error(err));\n</code></pre> <p>\u6548\u679c\u56fe\uff1a</p> <p></p>"},{"location":"front-end/angular-standalone-components-app/#_5","title":"\u914d\u7f6e\u4f9d\u8d56\u6ce8\u5165","text":"<p>\u5f53\u6211\u4eec\u60f3\u8981\u542f\u52a8Angular\u5e94\u7528\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u9700\u8981\u6ce8\u5165\u4e00\u4e9b\u503c\u6216\u8005\u670d\u52a1\u3002 \u5728<code>bootstrapApplication</code>, \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>providers</code>\u6765\u6ce8\u518c\u503c\u6216\u8005\u670d\u52a1\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u6709\u4e00\u4e2a\u83b7\u53d6\u56fe\u7247\u7684url\uff0c\u9700\u8981\u6ce8\u5165\u5230<code>PhotoService</code>\u4e2d\uff1a</p> <pre><code>bootstrapApplication(AppComponent, {\n  providers: [\n    {\n      provide: 'photoUrl',\n      useValue: 'https://picsum.photos',\n    },\n    {provide: PhotosService, useClass: PhotosService },\n    importProvidersFrom(RouterModule.forRoot([...ROUTES])),\n    importProvidersFrom(HttpClientModule)\n  ],\n})\n</code></pre> <p><code>PhotoService</code>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>@Injectable()\nexport class PhotosService {\n\n  constructor(\n    @Inject('photoUrl') private photoUrl: string,\n    private http: HttpClient\n  ) { }\n\n  public getPhotoUrl(i: number): string {\n    return `${this.photoUrl}/200/300?random=${i}`;\n  }\n}\n\n</code></pre>"},{"location":"front-end/angular-standalone-components-app/#_6","title":"\u6e90\u4ee3\u7801","text":"<p>\u672c\u6587\u6240\u4f7f\u7528\u7684\u6e90\u4ee3\u7801</p> <p>\u7ebf\u4e0ademo</p>"},{"location":"front-end/angular-standalone-components-app/#_7","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>Angular v14 is now available!</li> <li>Getting started with standalone components</li> <li>Angular Material</li> </ol>"},{"location":"front-end/build-angular-on-windows-01/","title":"\u5728windows\u4e0a\u6784\u5efaangular\u9879\u76ee (\u4e0a)","text":"<p>\u524d\u7aef\u4e09\u5927\u6846\u67b6( angular, reac, vue )\u4e2d\uff0cangular\u4e00\u76f4\u90fd\u662f\u4e00\u4e2a\u5f88\u72ec\u7279\u7684\u5b58\u5728\u3002\u9996\u5148\uff0cangular\u7684\u6982\u5ff5\u5f88\u591a\uff0c\u670d\u52a1\u3001\u4f9d\u8d56\u6ce8\u5165\u3001\u6a21\u5757\uff0c\u6307\u4ee4\u7b49\uff0c\u90fd\u662f\u5728\u524d\u7aef\u5708\u4e0d\u662f\u5f88\u5e38\u7528\u7684\uff0c\u6b64\u5916\uff0cangular\u4f7f\u7528\u4e86bazel\u4f5c\u4e3a\u6784\u5efa\u5de5\u5177\uff0c\u800creact\u548cvue\u90fd\u662f\u4f7f\u7528\u4e86rollup\uff0c\u56e0\u6b64\u5728\u672c\u5730\u7f16\u8bd1\u6784\u5efaangular\u5c06\u4f1a\u8fdc\u8fdc\u8d85\u8fc7react\u548cvue\uff0c\u5982\u679c\u4f60\u662f\u7528\u7684windows\u5e73\u53f0\uff0c\u90a3\u4e48\u4e00\u4e2a\u4e2a\u5751\u9700\u8981\u81ea\u5df1\u6162\u6162\u6765\u586b\u3002\u3002\u3002</p>"},{"location":"front-end/build-angular-on-windows-01/#bazel","title":"Bazel\u662f\u4ec0\u4e48\uff1f","text":"<p>\u6839\u636e\u5b98\u7f51\u7684\u5b9a\u4e49\uff0cBazel\u662f\u7c7b\u4f3c\u4e8eMake\uff0cMaven\u548cGradle\u7684\u5f00\u6e90\u6784\u5efa\u548c\u6d4b\u8bd5\u5de5\u5177\u3002\u5b83\u4f7f\u7528\u4eba\u7c7b\u53ef\u8bfb\u7684\u9ad8\u7ea7\u6784\u5efa\u8bed\u8a00Starlark(\u4e00\u79cd\u57fa\u4e8epython\u7684\u65b9\u8a00)\u3002 Bazel\u652f\u6301\u591a\u79cd\u8bed\u8a00\u7684\u9879\u76ee\uff0c\u5e76\u4e3a\u591a\u79cd\u5e73\u53f0\u6784\u5efa\u8f93\u51fa\u3002 </p> <p>\u4ece\u6211\u4e2a\u4eba\u89d2\u5ea6\u6765\u770b\uff0cbazel\u662f\u4e00\u4e2a\u5f3a\u5927\u4e14\u590d\u6742\u7684\u6784\u5efa\u7cfb\u7edf\uff0c\u901a\u8fc7<code>build rule</code>\u7684\u6982\u5ff5\uff0c\u652f\u6301\u591a\u79cd\u8bed\u8a00\u3001\u4e0d\u540c\u5e73\u53f0\uff0c\u652f\u6301\u6784\u5efaC/C++,Java,Android,IOS,Golang,Nodejs,Docker\u9879\u76ee</p>"},{"location":"front-end/build-angular-on-windows-01/#_1","title":"\u5b89\u88c5","text":"<p>Bazel\u5b98\u65b9\u652f\u6301Windows\uff0cmacOS, Ubuntu Linux\u4e09\u5927\u5e73\u53f0\uff0c\u8fd9\u4e5f\u662f\u5f00\u53d1\u4eba\u5458\u6bd4\u8f83\u5e38\u7528\u7684\u672c\u5730\u5f00\u53d1\u5e73\u53f0\u3002</p> <p>\u5728\u793e\u533a\u7684\u652f\u6301\u4e0b\uff0cbazel\u8fd8\u652f\u6301\u5176\u4ed6\u5e73\u53f0\uff0c\u5177\u4f53\u4fe1\u606f\u53ef\u4ee5\u770b\u4e00\u4e0b\u5b98\u7f51\u3002\u8fd9\u91cc\u6211\u4ec5\u4ec5\u4ecb\u7ecd\u5982\u4f55\u5728windows\u4e0a\u5b89\u88c5\u3002</p>"},{"location":"front-end/build-angular-on-windows-01/#_2","title":"\u5b89\u88c5\u8981\u6c42","text":"<p>\u5728\u5b89\u88c5\u524d\uff0c\u8bf7\u786e\u4fdd\u4f60windows\u7cfb\u7edf\u7b26\u5408\u8981\u6c42\uff1a 1. \u63a8\u8350\u4f7f\u752864\u4f4d\u7684windows10\uff0c\u7248\u672c\u53f7\u4e0d\u80fd\u4f4e\u4e8e1703 2. 64\u4f4d\u7684Windows 7\u4ee5\u4e0a 3. 64\u4f4d\u7684Windows Server 2008 R2\u4ee5\u4e0a</p> <p>\u6b64\u5916\uff0c\u8bf7\u4e8b\u5148\u5b89\u88c5Visual C++ Redistributable for Visual Studio 2015</p>"},{"location":"front-end/build-angular-on-windows-01/#bazel_1","title":"\u4e0b\u8f7d\u5b89\u88c5Bazel","text":"<p>\u6211\u4eec\u9700\u8981\u5728github\u9009\u62e9\u4e0b\u8f7d<code>bazel-&lt;version&gt;-windows-x86_64.exe</code>\uff0c\u7136\u540e\u5c06\u8be5\u6587\u4ef6\u8def\u5f84\u653e\u5728path\u73af\u5883\u53d8\u91cf\u4e2d\u3002</p> <p>\u5728\u7ec8\u7aef\u4e2d\u6267\u884c</p> <pre><code>$ bazel version\n</code></pre> <p>\u663e\u793a\u7c7b\u4f3c\u6548\u679c\u5c31\u662f\u53ef\u4ee5\u4e86</p> <pre><code>Build label: 4.0.0\nBuild target: bazel-out/x64_windows-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 21 07:39:16 2021 (1611214756)\nBuild timestamp: 1611214756\nBuild timestamp as int: 1611214756\n</code></pre>"},{"location":"front-end/build-angular-on-windows-01/#_3","title":"\u5b89\u88c5\u7f16\u8bd1\u548c\u8bed\u8a00\u8fd0\u884c\u65f6","text":"<p>\u6839\u636e\u4e0d\u540c\u8bed\u8a00\u7684\u7f16\u8bd1\u9700\u8981\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u4ee5\u4e0b\u7684\u5de5\u5177\uff1a</p> <ol> <li>MSYS2 x86_64</li> <li>Build Tools for Visual Studio 2019</li> <li>Java SE Development Kit 11 (JDK) for Windows x64</li> <li>Python 3.6 for Windows x86-64</li> </ol> <p>\u5982\u679c\u4f60\u60f3\u5728window\u5e73\u53f0\u7f16\u8bd1\u6784\u5efaangular\uff0c\u540e\u4e09\u8005\u5fc5\u987b\u7684\uff0cJDK16\u548cPython 3.9.5\u4e5f\u80fd\u6ee1\u8db3\u81ea\u5df1\u7684\u9700\u6c42\u3002</p>"},{"location":"front-end/build-angular-on-windows-01/#_4","title":"\u603b\u7ed3","text":"<p>\u5f53\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u7684\u65f6\u5019\uff0c\u6211\u4eec\u57fa\u672c\u4e0a\u5c31\u53ef\u4ee5\u5f00\u59cb\u5c1d\u8bd5\u5728windows\u672c\u5730\u8fdb\u884c\u7f16\u8bd1angular\u3002</p>"},{"location":"front-end/build-angular-on-windows-02/","title":"\u5728windows\u4e0a\u6784\u5efaangular\u9879\u76ee (\u4e0b)","text":"<p>\u5f53\u5b8c\u6210bazel\u7684\u5b89\u88c5\u4e4b\u540e\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5b89\u88c5nodejs\u5c31\u53ef\u4ee5\u5f00\u59cb\u7f16\u8bd1angular\u4e86\u3002</p>"},{"location":"front-end/build-angular-on-windows-02/#nodejs","title":"Nodejs","text":"<p>\u76ee\u524dangular\u4ec5\u652f\u6301nodejs12\u548cnodejs14\u8fd9\u4e24\u4e2a\u7248\u672c\uff0c\u63a8\u8350\u4f7f\u7528node14\u8fd9\u4e2a\u7248\u672c\u3002</p> <p>\u5bf9\u4e8ewindows\u5e73\u53f0\u800c\u8a00\uff0cnodejs\u53ef\u4ee5\u76f4\u63a5\u4ece\u5b98\u7f51\u9009\u62e9windows\u5e73\u53f0\u7684\u4e8c\u8fdb\u5236\u5305\u4e0b\u8f7d\uff0c\u7136\u540e\u8fdb\u884c\u70b9\u51fb\u5b89\u88c5\u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662f\u6211\u4e2a\u4eba\u66f4\u63a8\u8350\u4f7f\u7528nvm-windows\u3002</p>"},{"location":"front-end/build-angular-on-windows-02/#nvm-windows","title":"nvm-windows","text":"<p>nvm-windows\u662fwindows\u5e73\u53f0\u4e0a\u5e38\u7528\u7684node\u7248\u672c\u7ba1\u7406\u5de5\u5177\uff0c\u53ef\u4ee5\u65b9\u4fbf\u6211\u4eec\u9488\u5bf9\u4e0d\u540c\u9879\u76ee\u7684\u8981\u6c42\u5207\u6362\u4e0d\u540c\u7684node\u7248\u672c\u3002\u70b9\u51fb\u8be5\u94fe\u63a5\uff0c\u4e0b\u8f7d\u6700\u65b0\u5b89\u88c5\u5305\uff0c\u7136\u540e\u70b9\u51fb\u5b89\u88c5\u3002</p>"},{"location":"front-end/build-angular-on-windows-02/#_1","title":"\u4f7f\u7528\u56fd\u5185\u955c\u50cf","text":"<p>\u7531\u4e8e\u56fd\u5bb6\u7279\u6b8a\u7684\u7f51\u7edc\u653f\u7b56\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u6dd8\u5b9d\u955c\u50cf:</p> <pre><code>nvm node_mirror http://npm.taobao.org/mirrors/node/ // \u6ce8\u610f\u7ed3\u5c3e\u6709\u659c\u6760\nnvm npm_mirror https://npm.taobao.org/mirrors/npm/\n</code></pre>"},{"location":"front-end/build-angular-on-windows-02/#nodejs14","title":"\u5b89\u88c5nodejs14","text":"<p>\u76ee\u524dnode14\u7684\u6700\u65b0\u7248\u662f14.17.0\uff0c\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528nvm\u6765\u8fdb\u884c\u5b89\u88c5:</p> <pre><code>nvm install v14.17.0\nnvm use v14.17.0\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u9a8c\u8bc1\u4e00\u4e0bnode\u662f\u5426\u6b63\u786e\u5b89\u88c5\uff1a</p> <pre><code>node --version\n\n// \u7ed3\u679c\nv14.17.0\n</code></pre>"},{"location":"front-end/build-angular-on-windows-02/#yarn","title":"Yarn","text":"<p>Yarn\u662fFacebook\u5f00\u53d1\u7684nodejs\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u4e0e\u65e9\u671fnpm\u76f8\u6bd4\uff0c\u5177\u6709\u4e0b\u8f7d\u901f\u5ea6\u5feb\uff0c\u547d\u4ee4\u66f4\u52a0\u53cb\u597d\uff0c\u63d0\u4f9b\u672c\u7248\u672c\u9501\u7b49\u4f18\u52bf\u3002\u5f53\u7136\uff0c\u867d\u7136npm\u4e0d\u65ad\u7684\u66f4\u65b0\u8fed\u4ee3\uff0cyarn\u7684\u4f18\u52bf\u4e5f\u4e0d\u518d\u660e\u663e\uff0c\u4f46\u662fangular\u5f00\u53d1\u56e2\u961f\u66f4\u52a0\u63a8\u8350\u4f7f\u7528yarn\u3002</p> <p>\u5728\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cYarn1.x\u548cYarn2.x\u662f\u4e24\u4e2a\u4e0d\u517c\u5bb9\u7684\u7248\u672c\uff0c\u800cangular\u53ea\u652f\u6301yarnv1.22.4\u4ee5\u4e0a\u4e14\u4e0d\u5305\u62ec2\u7684\u7248\u672c(\u5373&gt;=1.22.4 &lt;2)\u3002\u56e0\u6b64\u5728\u4e0b\u8f7d\u7684\u65f6\u5019\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u7248\u672c\u3002</p>"},{"location":"front-end/build-angular-on-windows-02/#angular","title":"Angular","text":"<p>\u5f53bazel\u3001nodejs\u3001yarn\u90fd\u5b89\u88c5\u5b8c\u6bd5\u4e4b\u540e\uff0c\u6211\u4eec\u7ec8\u4e8e\u53ef\u4ee5\u5728\u672c\u5730\u5f00\u59cb\u7f16\u8bd1angular\u4e86\u3002</p>"},{"location":"front-end/build-angular-on-windows-02/#angular_1","title":"\u4e0b\u8f7dangular\u4ed3\u5e93","text":"<p>\u5728\u7ec8\u7aef\u6267\u884cclone\u547d\u4ee4</p> <pre><code>git clone --depth=16 https://github.com/angular/angular.git\n</code></pre> <p><code>--depth=16</code>\u8868\u793a\u4ec5\u4ec5git\u53ea\u4f1a\u62c9\u53bb\u6700\u65b016\u4e2acommit\u3002</p>"},{"location":"front-end/build-angular-on-windows-02/#angular_2","title":"\u5b89\u88c5angular\u4f9d\u8d56","text":"<p>\u5728\u5b89\u88c5\u4f9d\u8d56\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5148\u5220\u9664<code>sauce-connect</code>\u4f9d\u8d56\uff0c\u56e0\u4e3a\u8be5\u4f9d\u8d56\u4e0d\u652f\u6301windows\uff0c\u4e14\u4e5f\u4e0d\u5f71\u54cd\u6211\u4eec\u7684\u7f16\u8bd1\u3002</p> <p>\u5728\u7ec8\u7aef\u6267\u884cyarn\u547d\u4ee4\uff1a</p> <pre><code>yarn\n</code></pre>"},{"location":"front-end/build-angular-on-windows-02/#angular_3","title":"\u7f16\u8bd1angular","text":"<p>\u5728\u7ec8\u7aef\u6267\u884c\u7f16\u8bd1\u811a\u672c</p> <pre><code>node scripts/build/build-packages-dist.js\n</code></pre> <p>\u8be5\u547d\u4ee4\u5c06\u4f1a\u5148\u540e\u7f16\u8bd1angular,angular-in-memory-web-api\u548czone.js\u4e09\u5927\u6a21\u5757\u3002</p> <p>\u5982\u679c\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\uff0c\u53ef\u4ee5\u5728\u91cd\u65b0\u6267\u884c\u7f16\u8bd1\u811a\u672c\u4e4b\u524d\uff0c\u6267\u884cclean\u547d\u4ee4\uff1a <code>bazel clean</code></p>"},{"location":"front-end/build-angular-on-windows-02/#_2","title":"\u7ed3\u679c","text":"<p>\u5f53\u4e0a\u9762\u7684\u547d\u4ee4\u6b63\u786e\u6267\u884c\u5b8c\u6210\u4e4b\u540e\uff0c\u68c0\u67e5\u4e00\u4e0bdist\u76ee\u5f55\u4e0b\u7684\u7f16\u8bd1\u540e\u7684angular\u4ee3\u7801\u4e86\uff1a</p> <ol> <li><code>dist\\angular-in-memory-web-api-dist\\angular-in-memory-web-api</code>\u76ee\u5f55\u4e0b\u662fangular-in-memory-web-api\uff1b</li> <li><code>dist\\packages-dist</code>\u76ee\u5f55\u4e0b\u4fbf\u662fangular\u5404\u4e2a\u6a21\u5757\u7684\u4ee3\u7801\u4e86\uff1b</li> <li><code>dist\\zone.js-dist</code>\u76ee\u5f55\u4e0b\u7684\u662fzone.js\u3002</li> </ol>"},{"location":"front-end/build-angular-on-windows-02/#_3","title":"\u603b\u7ed3","text":"<p>\u5230\u6b64\uff0cwindows\u4e0a\u7f16\u8bd1angular\u5c31\u7b97\u662f\u5b8c\u6210\u4e86\u3002angular\u4f7f\u7528bazel\u4f5c\u4e3a\u7f16\u8bd1\u5de5\u5177\uff0c\u786e\u5b9e\u5bfc\u81f4\u7f16\u8bd1\u7684\u6210\u672c\u9ad8\u4e86\u5f88\u591a\uff0c\u5c24\u5176\u662f\u5728windows\u5e73\u53f0\uff0c\u4f46\u662f\u4e0d\u505c\u63a2\u7d22\u7684\u8fc7\u7a0b\uff0c\u662f\u4e00\u4e2a\u4e0d\u65ad\u5b66\u4e60\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u4e0d\u6323\u94b1\uff0c\u5c31\u662f\u4ea4\u4e2a\u670b\u53cb\u3002</p>"},{"location":"front-end/build-typescript-with-bazel/","title":"\u4f7f\u7528Bazel\u7f16\u8bd1TypeScript","text":""},{"location":"front-end/build-typescript-with-bazel/#_1","title":"\u51c6\u5907","text":"<p>\u8bf7\u4e8b\u5148\u5b89\u88c5Nodejs,Yarn 1.x\u548cBazel</p> <p>\u6211\u4f7f\u7528\u7684\u7248\u672c\u4e3a:</p> <ol> <li>Nodejs: v14.17.3</li> <li>Yarn:    1.22.5</li> <li>Bzel:    4.1.0</li> </ol>"},{"location":"front-end/build-typescript-with-bazel/#typescript","title":"\u521b\u5efa\u4e00\u4e2aTypescript\u9879\u76ee","text":"<p>\u9009\u62e9\u6307\u5b9a\u76ee\u5f55\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>ts-bazel</code>(\u5176\u4ed6\u540d\u5b57\u4e5f\u53ef\u4ee5)\u7684\u6587\u4ef6\u5939\uff0c\u4f7f\u7528\u7ec8\u7aef\u8fdb\u5165\u8be5\u6587\u4ef6\u5939\uff0c\u7136\u540e\u6267\u884c<code>npm init</code>\uff0c\u4e00\u8def\u9009\u62e9\u9ed8\u8ba4\u3002</p> <p>\u5b89\u88c5Typescipt:</p> <pre><code>yarn add typescipt -D\n</code></pre> <p>\u521b\u5efaTypescript\u914d\u7f6e\u6587\u4ef6</p> <pre><code>npx tsc --init\n</code></pre> <p>\u521b\u5efa<code>src</code>\u6587\u4ef6\u5939\uff0c\u5728\u8be5\u6587\u4ef6\u5939\u91cc\u65b0\u5efa<code>index.ts</code>\u6587\u4ef6\uff0c\u5e76\u5199\u5165\u4e00\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>function sayHello(name: string) {\n    console.log(`helle ${name}`);\n}\n\nsayHello('daming');\n</code></pre>"},{"location":"front-end/build-typescript-with-bazel/#bazel","title":"\u914d\u7f6eBazel","text":"<p>\u5b89\u88c5bazel\u7b49\u76f8\u5173\u4f9d\u8d56\uff1a</p> <pre><code>yarn add @bazel/bazelisk @bazel/ibazel @bazel/typescript -D \n</code></pre> <p>\u5728\u6839\u76ee\u5f55\u91cc\u521b\u5efa<code>WORKSPACE</code>, \u5e76\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>workspace(\n    name = \"ts-bazel\",\n    managed_directories = {\"@npm\": [\"node_modules\"]},\n)\n\nload(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n\nhttp_archive(\n    name = \"build_bazel_rules_nodejs\",\n    sha256 = \"275744d287af4c3a78d7c9891f2d970b7bc7eca8cfc0e9a671fe6258d09ff217\",\n    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/4.0.0-rc.1/rules_nodejs-4.0.0-rc.1.tar.gz\"],\n)\n\nload(\"@build_bazel_rules_nodejs//:index.bzl\", \"check_rules_nodejs_version\", \"node_repositories\", \"yarn_install\")\n\ncheck_rules_nodejs_version(minimum_version_string = \"2.2.0\")\n\n# Setup the Node.js toolchain\nnode_repositories(\n    node_version = \"14.17.3\",\n    package_json = [\"//:package.json\"],\n)\n\nyarn_install(\n    name = \"npm\",\n    package_json = \"//:package.json\",\n    yarn_lock = \"//:yarn.lock\",\n)\n</code></pre> <p>\u5728\u6839\u76ee\u5f55\u4e2d\u521b\u5efa<code>BUILD.bazel</code>\u6587\u4ef6\uff0c\u5e76\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>package(default_visibility = [\"//visibility:public\"])\n\nexports_files([\"tsconfig.json\"])\n</code></pre> <p>\u5728<code>src</code>\u6587\u4ef6\u5939\u4e2d\u521b\u5efa<code>BUILD.bazel</code>\u6587\u4ef6\uff0c\u5e76\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>package(default_visibility = [\"//visibility:public\"])\n\nload(\"@npm//@bazel/typescript:index.bzl\", \"ts_project\")\n\n\nts_project(\n  name = \"index\",\n  srcs = [\"index.ts\"],\n  tsconfig = \"//:tsconfig.json\",\n  visibility = [\"//visibility:public\"],\n)\n</code></pre>"},{"location":"front-end/build-typescript-with-bazel/#_2","title":"\u7f16\u8bd1","text":"<p>\u73b0\u5728\u53ef\u4ee5\u4f7f\u7528<code>bazel</code>\u7f16\u8bd1\u9879\u76ee\u4e86\uff01</p> <pre><code>bazel build //src:index\n</code></pre> <p>\u68c0\u67e5\u4e00\u4e0b\u7ed3\u679c</p> <pre><code>node  bazel-bin/src/index.js\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>helle daming\n</code></pre>"},{"location":"front-end/log-migrate-apollo-server-v3/","title":"\u8bb0\u5f55\u4e00\u6b21\u8fc1\u79fbApollo Server V3\u7684\u8fc7\u7a0b","text":""},{"location":"front-end/log-migrate-apollo-server-v3/#_1","title":"\u524d\u8a00","text":"<p>Apollo Server V3\u51fa\u6765\u4e5f\u5feb\u534a\u5e74\u4e86\uff0c\u662f\u65f6\u5019\u628aexpress-postgres-ts-starter\u7684graphql\u90e8\u5206\u5347\u7ea7\u4e86\u3002</p>"},{"location":"front-end/log-migrate-apollo-server-v3/#dependabot","title":"\u4f7f\u7528dependabot\u5e2e\u52a9\u66f4\u65b0\u7248\u672c","text":"<p>dependabot\u662f\u4e00\u4e2agithub\u7684\u5de5\u5177(\u4f3c\u4e4e\u4e5f\u652f\u6301gitlab,\u4f46\u662f\u6211\u4e0d\u786e\u5b9a)\uff0c\u7528\u4e8e\u68c0\u6d4brepo\u4f9d\u8d56\u5b89\u5168\u6027\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u5e2e\u52a9\u6211\u5b9a\u671f\u66f4\u65b0repo\u7684\u4f9d\u8d56\u7248\u672c\u3002</p> <p>\u8fd9\u662f\u6211\u7684dependabot\u7684\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>version: 2\nupdates:\n - package-ecosystem: npm\n   directory: '/'\n   schedule:\n    interval: weekly\n   open-pull-requests-limit: 10\n</code></pre>"},{"location":"front-end/log-migrate-apollo-server-v3/#apollo-servier","title":"\u5347\u7ea7Apollo Servier\u6240\u9700\u8981\u4f9d\u8d56","text":""},{"location":"front-end/log-migrate-apollo-server-v3/#nodejs","title":"nodejs","text":"<p><code>Apollo Servier 3</code>\u4ec5\u4ec5\u652f\u6301nodejsv12\u4ee5\u4e0a\u7248\u672c(<code>Apollo Servier 2</code>\u5219\u53ea\u9700\u8981nodejsv6\u4ee5\u4e0a\u7684\u652f\u6301)\u3002 \u56e0\u6b64\u9700\u8981\u5347\u7ea7\u5230nodejs12\uff0c\u63a8\u8350\u4f7f\u7528node14\u548cnode16\u3002</p> <p>\u6211\u5341\u5206\u63a8\u8350\u4f7f\u7528Linux/MAC\u7528\u6237\u4f7f\u7528nvm,Windows\u7528\u6237\u4f7f\u7528nvm-windows\u5b89\u88c5\u3001\u5347\u7ea7node\u7248\u672c\u3002</p>"},{"location":"front-end/log-migrate-apollo-server-v3/#graphql","title":"graphql","text":"<p><code>Apollo Servier</code>\u6709\u4e00\u4e2a\u53ef\u9009\u4f9d\u8d56graphql(GraphQL JS\u7684\u6838\u5fc3\u5b9e\u73b0),<code>Apollo Servier 3</code>\u9700\u8981<code>graphql</code> v15.3.0\u4ee5\u4e0a\u7684\u652f\u6301\u3002</p>"},{"location":"front-end/log-migrate-apollo-server-v3/#_2","title":"\u95ee\u9898\u8bb0\u5f55","text":""},{"location":"front-end/log-migrate-apollo-server-v3/#graphql-playground","title":"GraphQL Playground","text":"<p><code>Apollo Server 2</code>\u662f\u9ed8\u8ba4\u652f\u6301GraphQL Playground\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u6784\u9020\u51fd\u6570\u91cc\u914d\u7f6e\u597dplayground\u8fd9\u4e2a\u5b57\u6bb5\u5c31\u597d\u4e86\uff0c\u4f46\u662f<code>Apollo Server 3</code>\u5220\u9664\u4e86\u5bf9GraphQL Playgroun\u7684\u9ed8\u8ba4\u652f\u6301\uff0c\u8f6c\u800c\u63a8\u8350\u5728\u975e\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528Apollo Sandbox\u3002</p> <p>\u4e0d\u8fc7\u6211\u4eec\u8fd8\u662f\u53ef\u4ee5\u91cd\u65b0\u914d\u7f6e<code>GraphQL Playground</code>\u7684\u3002</p> <p>\u5982\u679c\u4e4b\u524d\u662f\u4f7f\u7528<code>new ApolloServer({playground: boolean})</code>\u7684\u7c7b\u4f3c\u65b9\u5f0f\u914d\u7f6e<code>GraphQL Playground</code>\uff0c\u90a3\u4e48\u53ef\u4ee5</p> <pre><code>import { ApolloServerPluginLandingPageGraphQLPlayground,\n         ApolloServerPluginLandingPageDisabled } from 'apollo-server-core';\nnew ApolloServer({\n  plugins: [\n    process.env.NODE_ENV === 'production'\n      ? ApolloServerPluginLandingPageDisabled()\n      : ApolloServerPluginLandingPageGraphQLPlayground(),\n  ],\n});\n\n</code></pre> <p>\u5982\u679c\u4e4b\u524d\u662f\u4f7f\u7528<code>new ApolloServer({playground: playgroundOptions})</code>\u7684\u7c7b\u4f3c\u65b9\u5f0f\u914d\u7f6e<code>GraphQL Playground</code>\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528:</p> <pre><code>import { ApolloServerPluginLandingPageGraphQLPlayground } from 'apollo-server-core';\n\nconst playgroundOptions = {\n    // \u4ec5\u505a\u53c2\u8003\n    settings: {\n        'editor.theme': 'dark',\n        'editor.cursorShape': 'line'\n    }\n}\n\nnew ApolloServer({\n  plugins: [\n    ApolloServerPluginLandingPageGraphQLPlayground(playgroundOptions),\n  ],\n});\n</code></pre>"},{"location":"front-end/log-migrate-apollo-server-v3/#tracing","title":"tracing","text":"<p>\u5728<code>Apollo Server 2</code>\u4e2d\uff0c\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u63d0\u4f9btracing\u5e03\u5c14\u5b57\u6bb5\uff0c\u7528\u4e8e\u5f00\u542f\u57fa\u4e8e(apollo-tracing)[https://www.npmjs.com/package/apollo-tracing]\u8ddf\u8e2a\u673a\u5236\uff0c\u4f46\u662f\u5f88\u9057\u61be\uff0c\u5728<code>Apollo Server 3</code>\u4e2d\uff0ctracing\u5df2\u7ecf\u88ab\u5220\u9664\u4e86\uff0c\uff0c\uff0c<code>apollo-tracing</code>\u4e5f\u5df2\u7ecf\u88ab\u5e9f\u5f03\u4e86\uff0c\u5982\u679c\u4e00\u5b9a\u8981\u4f7f\u7528\uff0c\u53ef\u4ee5\uff1a</p> <pre><code>new ApolloServer({\n  plugins: [\n    require('apollo-tracing').plugin()\n  ]\n});\n\n</code></pre> <p>\u4e0d\u8fc7\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u6ca1\u6709\u7ecf\u8fc7\u4e25\u683c\u6d4b\u8bd5\uff0c\u53ef\u80fd\u5b58\u5728bug\u3002</p>"},{"location":"front-end/log-migrate-apollo-server-v3/#you-must-await-serverstart-before-calling-serverapplymiddleware","title":"You must <code>await server.start()</code> before calling <code>server.applyMiddleware()</code>","text":"<p>\u5728<code>Apollo Server v2.22</code>\u4e2d\u63d0\u4f9b\u4e86_server.start()_\u7684\u65b9\u6cd5\uff0c\u5176\u76ee\u7684\u662f\u4e3a\u4e86\u65b9\u4fbf\u96c6\u6210\u975eserverless\u7684\u6846\u67b6(Express\u3001Fastify\u3001Hapi\u3001Koa\u3001Micro \u548c Cloudflare)\u3002\u56e0\u6b64\u8fd9\u4e9b\u6846\u67b6\u7684\u4f7f\u7528\u8005\u4f7f\u7528\u5728\u521b\u5efa<code>ApolloServer</code>\u5bf9\u8c61\u4e4b\u540e\u7acb\u523b\u542f\u52a8graphql\u670d\u52a1\u3002</p> <pre><code>const app = express();\nconst server = new ApolloServer({...});\nawait server.start();\nserver.applyMiddleware({ app });\n</code></pre>"},{"location":"front-end/log-migrate-apollo-server-v3/#_3","title":"\u7ed3\u675f","text":"<p>\u73b0\u5728\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u6253\u5f00<code>GraphQL Playground</code>, \u4ee5express-postgres-ts-starter\u4e3a\u4f8b\uff0c\u4f7f\u7528<code>http://127.0.0.1:3000/graphql</code>\u5c31\u53ef\u4ee5\u770b\u5230\u6548\u679c\u4e86\u3002</p>"},{"location":"front-end/node-docker-template/","title":"Nodejs\u9879\u76ee\u7684Dockerfile\u6a21\u7248","text":""},{"location":"front-end/node-docker-template/#yarn","title":"\u57fa\u4e8eYarn","text":"<pre><code>FROM node:14.17.6-alpine3.14 as build\n\n# \u53d6\u6d88\u5bf9https\u7684\u8bc1\u4e66\u9650\u5236\n# ENV SELF_SIGNED_CERT_IN_CHAIN=true\n# ENV NODE_TLS_REJECT_UNAUTHORIZED=0\n# RUN npm config set strict-ssl false\n# RUN yarn config set strict-ssl false\n\nRUN apk update &amp;&amp; apk add bash\n\nCOPY package.json yarn.lock .npmrc /tmp/\nRUN cd /tmp &amp;&amp; yarn install --frozen-lockfile --non-interactive\nRUN mkdir -p /app &amp;&amp; cp -a /tmp/node_modules /app/\n\nWORKDIR /app\nCOPY . /app\nRUN yarn build\n\n\nFROM build AS ci\nWORKDIR /app\nRUN yarn run test:ci &amp;&amp; yarn install --frozen-lockfile --non-interactive --production\n\nFROM node:14.17.6-alpine3.14 as release\n\nRUN mkdir -p /app &amp;&amp; \\\n    addgroup -S daminggroup &amp;&amp; \\\n    adduser -S -h /app -G daminggroup daminguser &amp;&amp; \\\n    chown -R daminguser:daminggroup /app\n\nWORKDIR /app\nCOPY --from=ci --chown=daminguser:daminggroup /app/dist ./dist\nCOPY --from=ci --chown=daminguser:daminggroup /app/node_modules ./node_modules\nCOPY --from=ci --chown=daminguser:daminggroup /app/package.json .\n\nHEALTHCHECK --interval=30s --timeout=30s CMD curl -f http://localhost:3978/ping || exit 1\nEXPOSE 3978\nCMD [\"sh\", \"-c\", \"node dist/index.js\"]\n</code></pre>"},{"location":"front-end/node-docker-template/#npm","title":"\u57fa\u4e8eNPM","text":"<pre><code>FROM node:14.17.6-alpine3.14 as build\n\n# pwc network limit\n# ENV SELF_SIGNED_CERT_IN_CHAIN=true\n# ENV NODE_TLS_REJECT_UNAUTHORIZED=0\n# RUN npm config set strict-ssl false\n# RUN yarn config set strict-ssl false\n\nRUN apk update &amp;&amp; apk add bash\n\nCOPY package.json package-lock.json .npmrc /tmp/\nRUN cd /tmp &amp;&amp; npm install\nRUN mkdir -p /app &amp;&amp; cp -a /tmp/node_modules /app/\n\nWORKDIR /app\nCOPY . /app\nRUN npm run build\n\n\nFROM build AS ci\nWORKDIR /app\nRUN npm run test:ci &amp;&amp; npm install --production --ignore-scripts true\n\nFROM node:14.17.6-alpine3.14 as release\n\nRUN mkdir -p /app &amp;&amp; \\\n    addgroup -S daminggroup &amp;&amp; \\\n    adduser -S -h /app -G daminggroup daminguser &amp;&amp; \\\n    chown -R daminguser:daminggroup /app\n\nWORKDIR /app\nCOPY --from=ci --chown=daminguser:daminggroup /app/dist ./dist\nCOPY --from=ci --chown=daminguser:daminggroup /app/node_modules ./node_modules\nCOPY --from=ci --chown=daminguser:daminggroup /app/package.json .\n\nHEALTHCHECK --interval=30s --timeout=30s CMD curl -f http://localhost:3978/ping || exit 1\nEXPOSE 3978\nCMD [\"sh\", \"-c\", \"node dist/index.js\"]\n</code></pre>"},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/","title":"Angular\u548cReact\u6784\u5efa\u4f53\u79ef\u7b80\u5355\u5bf9\u6bd4","text":""},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#_1","title":"\u524d\u8a00","text":"<p>Angular\u662f\u6211\u4e3b\u8981\u4f7f\u7528\u7684\u524d\u7aef\u6846\u67b6\uff0c \u548cReact\u662f\u6211\u6700\u8fd1\u6b63\u5728\u5b66\u4e60\u7684\u524d\u7aef\u6846\u67b6\u3002\u4eca\u5929\u6211\u60f3\u5bf9\u6bd4\u4e00\u4e0b\u5728\u5404\u81ea\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\uff0c\u4e24\u8005\u6253\u5305\u4f53\u79ef\u7684\u5bf9\u6bd4\u3002</p>"},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#angular","title":"Angular","text":""},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#_2","title":"\u521b\u5efa","text":"<p>\u6211\u4eec\u4f7f\u7528Angular CLI: 11.1.2\u7b80\u5355\u521b\u5efa\u4e00\u4e2aangular\u9879\u76ee:</p> <pre><code>ng new daming-angular-app\n\n# ? Do you want to enforce stricter type checking and stricter bundle budgets in the workspace? Y\n# ? Would you like to add Angular routing? Y\n# ? Which stylesheet format would you like to use? CSS\n</code></pre> <p>\u7136\u540e\u7ec8\u7aef\u4f1a\u63d0\u793a\u6211\u4eec\u8f93\u5165\u4e00\u4e9b\u5fc5\u8981\u7684\u53c2\u6570\u3002\u5bf9\u4e8eY\u6216N\u7684\u9009\u62e9\uff0c\u6211\u4eec\u7edf\u4e00\u9009\u62e9Y\uff0c\u5bf9\u62e5\u6709\u591a\u4e2a\u9009\u62e9\u9879\u7684\uff0c\u6211\u4eec\u7edf\u4e00\u9009\u62e9\u7b2c\u4e00\u4e2a\u503c\uff1a</p> <pre><code># ? Do you want to enforce stricter type checking and stricter bundle budgets in the workspace? Y\n# ? Would you like to add Angular routing? Y\n# ? Which stylesheet format would you like to use? CSS\n</code></pre> <p>\u8fd9\u6837\u5b50\u6211\u4eec\u5c31\u521b\u5efa\u597d\u4e86\u4e00\u4e2aangular\u9879\u76ee\u3002</p>"},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#_3","title":"\u6253\u5305","text":"<p>\u5728angular.json\u6587\u4ef6\u91cc\uff0c\u6211\u4eec\u5bf9outputHashing\u503c\u4ece<code>all</code>\u6539\u6210<code>none</code>\uff0c\u76ee\u7684\u5728\u6253\u5305\u7684\u65f6\u5019\u751f\u6210js\u548ccss\u6587\u4ef6\u4e0d\u662f\u52a0\u4e0ahash\u503c\uff0c\u65b9\u4fbf\u7edf\u8ba1\u3002</p> <p>\u5728\u7ec8\u7aef\u6267\u884c\u6784\u5efa\u811a\u672c:</p> <pre><code>ng build --prod\n</code></pre>"},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#_4","title":"\u7edf\u8ba1","text":"<p>\u7ec8\u7aef\u8f93\u51fa\u6253\u5305\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>Initial Chunk Files | Names         |      Size\nmain.js             | main          | 212.27 kB\npolyfills.js        | polyfills     |  35.73 kB\nruntime.js          | runtime       |   1.45 kB\nstyles.css          | styles        |   0 bytes\n\n                    | Initial Total | 249.45 kB\n</code></pre> <p>\u901a\u8fc7Finder\u67e5\u770bjs\u548ccss\u6587\u4ef6\u7684\u5927\u5c0f\u53d1\u73b0:</p> <ol> <li>main.js\u5927\u5c0f\u4e3a217kB;</li> <li>polyfills.js\u5927\u5c0f\u4e3a37kB;</li> <li>runtime.js\u4e3a1kB;</li> <li>styles.css\u4e3a0b\u3002</li> </ol> <p>\u56e0\u6b64\u4ecefinder\u89d2\u5ea6\u6765\u8bf4\uff0c\u6253\u5305\u7684\u603b\u4f53\u79ef\u4e3a255kB\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u4f7f\u7528gzip-size-cli\u83b7\u53d6gzip\u7684\u5927\u5c0f:</p> <pre><code>npx gzip-size-cli main.js       // \u8f93\u51fa 64.0kB\nnpx gzip-size-cli polyfills.js  // \u8f93\u51fa 12.4kB\nnpx gzip-size-cli runtime.js    // \u8f93\u51fa 719B\nnpx gzip-size-cli styles.css    // \u8f93\u51fa 20B\n</code></pre> <p>\u901a\u8fc7gzip\u538b\u7f29\u4e4b\u540e\uff0c\u6253\u5305\u7684\u603b\u4f53\u79ef\u4e3a77.14kB.</p>"},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#react","title":"React","text":""},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#_5","title":"\u521b\u5efa","text":"<p>\u6211\u4eec\u4f7f\u7528Create React App\u521b\u5efa\u4e00\u4e2areact\u9879\u76ee\uff1a</p> <pre><code>npx create-react-app daming-react-app\n</code></pre> <p>\u4e0eangular\u4e0d\u540c\uff0c\u521b\u5efareact\u9879\u76ee\u7684\u65f6\u5019\u7ec8\u7aef\u4e0d\u4f1a\u63d0\u793a\u6211\u4eec\u8f93\u5165\u5fc5\u8981\u7684\u53c2\u6570\u3002</p>"},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#_6","title":"\u6253\u5305","text":"<p>\u5728\u7ec8\u7aef\u6267\u884c\u6784\u5efa\u811a\u672c:</p> <p>\u5982\u679c\u4f60\u4f7f\u7528npm</p> <pre><code>npm run build \n</code></pre> <p>\u5982\u679c\u4f60\u4f7f\u7528yarn</p> <pre><code>yarn build \n</code></pre>"},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#_7","title":"\u7edf\u8ba1","text":"<p>\u7ec8\u7aef\u8f93\u51fa\u6253\u5305\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>File sizes after gzip:\n\n  41.21 KB  build/static/js/2.6a046b6b.chunk.js\n  1.4 KB    build/static/js/3.743bc3fe.chunk.js\n  1.17 KB   build/static/js/runtime-main.073f5272.js\n  597 B     build/static/js/main.2c9755c1.chunk.js\n  531 B     build/static/css/main.8c8b27cf.chunk.css\n</code></pre> <p>\u7ecf\u8fc7\u7edf\u8ba1\uff0c gzip\u603b\u4f53\u79ef\u4e3a44.91kB\u3002</p> <p>\u901a\u8fc7Finder\u67e5\u770bjs\u548ccss\u6587\u4ef6\u7684\u5927\u5c0f\u53d1\u73b0:</p> <ol> <li>main.2c9755c1.chunk.js\u5927\u5c0f\u4e3a1kB;</li> <li>runtime-main.073f5272.js\u5927\u5c0f\u4e3a2kB;</li> <li>2.6a046b6b.chunk.js\u5927\u5c0f\u4e3a131kB;</li> <li>3.743bc3fe.chunk.js\u5927\u5c0f\u4e3a4kB;</li> <li>main.8c8b27cf.chunk\u5927\u5c0f\u4e3a804B\u3002</li> </ol> <p>\u7531\u6b64\u53ef\u77e5\uff0c\u4ecefinder\u89d2\u5ea6\u6765\u8bf4\uff0c\u6253\u5305\u7684\u603b\u4f53\u79ef\u4e3a138.80kB\u3002</p>"},{"location":"front-end/simple-comparison-of-angular-and-react-build-size/#_8","title":"\u603b\u7ed3","text":"<p>\u901a\u8fc7\u4e0a\u9762\u7b80\u5355\u7684\u5bf9\u6bd4\uff0c\u5728\u5404\u81ea\u9ed8\u8ba4\u7684\u521b\u5efa\u3001\u6784\u5efa\u65b9\u5f0f\u4e0b\uff0creact\u5728\u6253\u5305\u4f53\u79ef\u5927\u5c0f\u65b9\u9762\u6bd4angular\u66f4\u5177\u4f18\u52bf\u3002\u4f46\u662f\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u90fd\u4f1a\u4f7f\u7528\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u7684\u4f9d\u8d56\uff0c\u5b9e\u9645\u9879\u76ee\u7684\u6253\u5305\u4f53\u79ef\u5927\u5c0f\u8fd8\u662f\u9700\u8981\u56e0\u4eba\u800c\u5f02\u7684\u3002</p> <p>\u6e90\u4ee3\u7801\u5df2\u7ecf\u4e0a\u4f20\u5230github\u3002</p>"},{"location":"front-end/ts-optional-chaining/","title":"TypeScript\u4e2d\u53ef\u9009\u94fe","text":""},{"location":"front-end/ts-optional-chaining/#_1","title":"\u4ec0\u4e48\u662f\u53ef\u9009\u94fe","text":"<p>TypeScript 3.7\u4e2d\u4e00\u4e2a\u6700\u5f15\u4eba\u5173\u6ce8\u7684\u7279\u6027\u4fbf\u662f\u53ef\u9009\u94fe(Optional Chaining)\u3002</p> <p>\u6240\u8c13\u53ef\u9009\u94fe\uff0c\u5c31\u662f\u5f53\u6211\u4eec\u8bd5\u56fe\u4f7f\u7528\u8bbf\u95ee\u5bf9\u8c61\u7684\u5b57\u6bb5\u6216\u8005\u65b9\u6cd5\u65f6\uff0c\u5982\u679c\u5bf9\u8c61\u4e3a<code>null</code>\u6216\u8005<code>undefined</code>\uff0cTypeScript\u5c06\u4f1a\u81ea\u52a8\u505c\u6b62\u8fd0\u884c\u7684\u4ee3\u7801\uff0c\u4ee5\u9632\u6b62\u7a7a\u6307\u9488\u5f02\u5e38\u3002</p>"},{"location":"front-end/ts-optional-chaining/#_2","title":"\u53ef\u9009\u94fe\u7684\u4f7f\u7528","text":"<p>\u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3 A, \u6709\u4e00\u4e2a\u5b57\u6bb5b\uff0cb\u53ef\u80fd\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u80fd\u662fnull:</p> <pre><code>interface A {\n    b: string | null\n}\n</code></pre> <p>\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cfa:</p> <pre><code>const a = {\n    b: 'c'\n}\n</code></pre> <p>\u4f7f\u7528<code>?.</code>\u6765\u8bbf\u95ee\u5b57\u6bb5:</p> <pre><code>console.log(a?.b)\n</code></pre> <p>\u5982\u679ca\u4e3a<code>null</code>\u6216\u8005<code>undefined</code>, \u5c06\u8f93\u51fa<code>undefined</code></p>"},{"location":"front-end/ts-optional-chaining/#typescript_1","title":"TypeScript\u505a\u4e86\u4ec0\u4e48","text":"<p>\u53ef\u9009\u94fe\u5e76\u4e0d\u662fts\u7684\u4e13\u5229\uff0c\u5728js\u5c31\u5df2\u7ecf\u5b58\u5728\u4e86\uff0c\u9664\u4e86ie,\u5176\u4ed6\u73b0\u4ee3\u6d4f\u89c8\u5668\u6700\u65b0\u7248\u672c\u90fd\u662f\u652f\u6301\u4e86\uff0c\u4f46\u662f\u4e00\u4e9b\u8001\u7248\u672c\u5c31\u4e0d\u652f\u6301\uff0c\u56e0\u6b64ts\u6ca1\u6709\u4f7f\u7528js\u7684\u8bed\u6cd5\uff0c\u800c\u662f\u901a\u8fc7\u4e09\u5143\u8868\u8fbe\u5f0f<code>? :</code>\u8f6c\u8bd1\u3002\u56e0\u6b64\u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u4f1a\u8f6c\u8bd1\u6210:</p> <pre><code>console.log(a === null || a === void 0 ? void 0 : a.b);\n</code></pre> <p>\u4f46\u662fts\u6ca1\u6709\u5224\u65ada\u662f\u5426\u662f<code>undefined</code>, \u800c\u662f\u56e0\u4e3a\u5728js\u4e2d\uff0c <code>undefined</code>\u4e0d\u4ec5\u662f\u503c\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u3002\u76f4\u5230es5\u4e4b\u524d\uff0c<code>undefined</code>\u662f\u53ef\u4ee5\u88ab\u4fee\u6539\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u4fee\u6539:</p> <pre><code>(function() {\n  var undefined = 1\n\n  console.log(undefined) // 1\n})()\n</code></pre>"},{"location":"front-end/ts-optional-chaining/#_3","title":"\u53c2\u8003","text":"<ol> <li>\u6df1\u5165\u7406\u89e3 TypeScript(\u53ef\u9009\u94fe\uff08Optional Chaining\uff09)</li> <li>JS: The difference between \"undefined\", \"null\" and \"void 0\"</li> <li>\u53ef\u9009\u94fe\u64cd\u4f5c\u7b26</li> </ol>"},{"location":"others/learning/","title":"\u5b66\u4e60\u8bfe\u7a0b","text":""},{"location":"others/learning/#_2","title":"\u8ba1\u7b97\u673a","text":"<ol> <li>\u8ba1\u7b97\u673a\u6559\u80b2\u4e2d\u7f3a\u5931\u7684\u4e00\u8bfe</li> <li>CS\u81ea\u5b66\u6307\u5357</li> </ol>"},{"location":"others/learning/#web","title":"WEB\u524d\u7aef","text":"<ol> <li>\u6df1\u5165\u6d45\u51fa\u73b0\u4ee3Web\u7f16\u7a0b</li> <li>Type-Challenges</li> </ol>"},{"location":"others/learning/#dockerk8s","title":"Docker\u4e0ek8s","text":"<ol> <li>\u4eceDocker\u5230Kubernetes\u8fdb\u9636</li> <li>Kubernetes Handbook\u2014\u2014Kubernetes \u4e2d\u6587\u6307\u5357/\u4e91\u539f\u751f\u5e94\u7528\u67b6\u6784\u5b9e\u8df5\u624b\u518c</li> <li>Kubernetes \u5b8c\u5168\u624b\u518c</li> <li>Docker \u5165\u95e8\u6559\u7a0b - 2021 \u6700\u65b0\u7248</li> </ol>"},{"location":"others/learning/#rust","title":"Rust","text":"<ol> <li>Rust\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00</li> <li>Rust\u8bed\u8a00\u5723\u7ecf(Rust Course)</li> </ol>"},{"location":"others/learning/#flutter","title":"Flutter","text":"<ol> <li>Flutter\u5b9e\u6218*\u7b2c\u4e8c\u7248</li> </ol>"},{"location":"others/link/","title":"\u559c\u6b22\u7684post","text":""},{"location":"others/link/#_1","title":"\u94fe\u63a5","text":"<p>\u6bd4\u8f83\u559c\u6b22\u7684 post\u3002</p>"},{"location":"others/link/#angular","title":"Angular","text":"<ol> <li> <p>Angular Material \u5b8c\u5168\u653b\u7565</p> </li> <li> <p>\u9ad8\u6548 Coding \u8853\uff1aAngular Schematics \u5be6\u6230\u4e09\u5341\u5929</p> </li> <li> <p>Angular \u6846\u67b6\u89e3\u8bfb</p> </li> </ol>"},{"location":"others/link/#react","title":"React","text":"<ol> <li>React \u6280\u672f\u63ed\u79d8</li> </ol>"},{"location":"others/link/#graphql","title":"GraphQL","text":"<ol> <li>Think in GraphQL</li> </ol>"},{"location":"others/link/#typescript","title":"Typescript","text":"<ol> <li> <p>Using the Compiler API</p> </li> <li> <p>\u6df1\u5165\u7406\u89e3 TypeScript</p> </li> <li> <p>[TypeScript] Compiler API \u7b2c\u4e00\u6b21\u63a5\u89f8</p> </li> <li> <p>ts-morph</p> </li> <li> <p>Type-Challenges</p> </li> </ol>"},{"location":"others/link/#postgresql","title":"PostgreSQL","text":"<ol> <li>Pgbouncer \u6700\u4f73\u5b9e\u8df5\uff1a\u7cfb\u5217\u4e8c</li> <li>PgSQL \u00b7 \u6700\u4f73\u5b9e\u8df5 \u00b7 EXPLAIN \u4f7f\u7528\u6d45\u6790</li> <li>PostgreSQL \u8d77\u6b65</li> </ol>"},{"location":"others/link/#ubuntu","title":"Ubuntu","text":"<ol> <li>Ubuntu20.04 \u4f53\u9a8c\u548c\u7f8e\u5316</li> </ol>"},{"location":"others/link/#golang","title":"Golang","text":"<ol> <li>\u714e\u9c7c</li> </ol>"},{"location":"others/link/#spring","title":"Spring","text":"<ol> <li>Spring \u5b9e\u6218(\u7b2c 5 \u7248)</li> </ol>"},{"location":"others/link/#_2","title":"\u533a\u5757\u94fe","text":"<ol> <li>\u4ee5\u592a\u574a\u79c1\u94fe\u642d\u5efa\u53ca\u667a\u80fd\u5408\u7ea6\u90e8\u7f72</li> <li>Geth \u642d\u5efa\u79c1\u94fe</li> <li>\u7528 Go \u6765\u505a\u4ee5\u592a\u574a\u5f00\u53d1</li> <li>\u4f7f\u7528 Geth \u6784\u5efa\u4ee5\u592a\u574a\u533a\u5757\u94fe\u5e76\u6a21\u62df\u6316\u77ff\u8fc7\u7a0b</li> <li>go-ethereum \u6e90\u7801\u7b14\u8bb0\uff08miner,consensus \u6a21\u5757-\u6316\u77ff\u548c\u5171\u8bc6\u7b97\u6cd5</li> <li>Solidity \u4e2d\u6587\u6587\u6863</li> <li>\u533a\u5757\u94fe\u6280\u672f\u5165\u95e8\u5b66\u4e60\u6307\u5f15</li> <li>solana</li> <li>cosmwasm</li> <li>\u514d\u8cbb\u53d6\u5f97 Goerli \u6e2c\u8a66\u5e63</li> </ol>"},{"location":"others/link/#python","title":"Python","text":"<ol> <li>Learn X in Y minutes Where X = Python</li> <li>Dive Into Python 3</li> <li>Flask \u5165\u95e8\u6559\u7a0b</li> </ol>"},{"location":"others/link/#neovim","title":"Neovim","text":"<ol> <li>Getting started using Lua in Neovim(\u5728 neovim \u4e2d\u4f7f\u7528 Lua)</li> <li>vim \u4f7f\u7528\u5165\u95e8</li> </ol>"},{"location":"others/link/#java","title":"Java","text":"<ol> <li>\u7f16\u7801\u5999 \u2642 \u5999 \u2642 \u5c4b</li> </ol>"},{"location":"software/install/drone-gogs-docker-devops/","title":"drone + gogs + docker\u5b9e\u73b0\u6301\u7eed\u81ea\u52a8\u5316\u90e8\u7f72","text":""},{"location":"software/install/drone-gogs-docker-devops/#_1","title":"\u51c6\u5907","text":"<p>\u6211\u4eec\u4f7f\u7528docker-compose\u6765\u5b89\u88c5gogs\u548cdrone\u3002</p> <p>\u9996\u5148\u6211\u4eec\u51c6\u5907\u6570\u636e\u5e93\uff0cgogs\u652f\u6301mysql\uff0cpostgres, sqlite, sql server\u548cTiDB\u3002 \u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u4f7f\u7528postgre:</p> <pre><code>version: '3'\nservices:\n  postgres:\n    image: postgres:14.2\n    container_name: postgres\n    ports:\n      - 5432:5432\n    volumes:\n      - ./postgres:/var/lib/postgresql/data\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 123456\n      POSTGRES_DB: postgres\n    networks:\n      - ci-network\n\nnetworks:\n  ci-network:\n    external: true\n</code></pre> <p>\u521b\u5efadocker\u7f51\u7edc\u5e76\u542f\u52a8\u6570\u636e\u5e93</p> <pre><code>docker network create ci-network (\u4ec5\u7b2c\u4e00\u6b21\u8fd0\u884c)\n\ndocker-compose up postgres\n</code></pre>"},{"location":"software/install/drone-gogs-docker-devops/#gogs","title":"Gogs","text":"<p><code>Gogs</code>\u662f\u4e00\u6b3e\u6781\u6613\u642d\u5efa\u7684\u81ea\u52a9 Git \u670d\u52a1, \u4f7f\u7528go\u5f00\u53d1\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5728\u4efb\u4f55go\u652f\u6301\u7684\u5e73\u53f0\u4e0a\u90e8\u7f72</p>"},{"location":"software/install/drone-gogs-docker-devops/#_2","title":"\u5b89\u88c5","text":"<p>\u5728docker-compose.yaml\u4e0a\u6dfb\u52a0gogs</p> <pre><code>  gogs:\n    image: gogs/gogs:0.12.6\n    container_name: 'gogs'\n    ports:\n      - '10022:22'\n      - '13000:3000'\n    volumes:\n      - ./gogs:/data\n      - gogs/gogs\n    depends_on:\n      - postgres\n    networks:\n      - ci-network\n</code></pre> <p>gogs\u4f7f\u752822\u7aef\u53e3\u63d0\u4f9bssh\uff0c \u4f7f\u75283000\u63d0\u4f9bweb\u9875\u9762\u670d\u52a1\uff0c\u8fd9\u91cc\u6211\u4eec\u5206\u522b\u6620\u5c04\u5230\u672c\u5730\u768410022\u548c13000\u7aef\u53e3</p> <p>\u542f\u52a8gogs\u670d\u52a1\uff1a</p> <pre><code>docker-compose up gogs\n</code></pre> <p>\u4f7f\u7528\u6d4f\u89c8\u5668\u6253\u5f00http://127.0.0.1:13000/install</p> <p></p> <p>\u8bbe\u7f6epostgresql\u6570\u636e\u5e93\uff0c</p> <p></p> <p>\u8bbe\u7f6e\u5e94\u7528\u57fa\u672c\u8bbe\u7f6e</p> <p></p> <p>\u8df3\u8fc7\u90ae\u4ef6\u670d\u52a1\u8bbe\u7f6e\uff0c \u5173\u95ed\u00b7\u542f\u7528\u9a8c\u8bc1\u7801\u670d\u52a1,</p> <p></p> <p>\u8bbe\u7f6e\u7ba1\u7406\u5458\u8d26\u53f7,</p> <p></p> <p>\u6700\u540e\u6211\u4eec\u53ef\u4ee5\u70b9\u51fb\u5b89\u88c5\u6309\u94ae\u4e86\uff0c\u6d4f\u89c8\u5668\u5c06\u4f1a\u8df3\u8f6c\u5230<code>http://host.docker.internal:3000</code>, \u4f46\u662f\u6211\u4eec\u5176\u5b9e\u4e0d\u80fd\u8bbf\u95ee\u8fd9\u4e2a\u94fe\u63a5\uff0c\u4e0d\u8fc7\u4e0d\u7528\u62c5\u5fc3\uff0c\u53ef\u4ee5\u4f7f\u7528http://127.0.0.1:13000</p>"},{"location":"software/install/drone-gogs-docker-devops/#ssh","title":"\u914d\u7f6essh","text":"<p>\u5728http://127.0.0.1:13000/user/settings/ssh\u9875\u9762\u4e0a\u8bbe\u7f6e\u4f60\u7684SSH \u5bc6\u94a5\uff1a</p> <p> </p>"},{"location":"software/install/drone-gogs-docker-devops/#_3","title":"\u521b\u5efa\u4ed3\u5e93","text":"<p>\u8fd9\u91cc\u6211\u4f7f\u7528\u6211\u7684hoteler-web\u4f5c\u4e3ademo\uff1a</p> <pre><code>git clone https://github.com/damingerdai/hoteler-web.git\ngit remote add gogs ssh://git@localhost:10022/daming/hoteler-web.git\ngit push gogs master\n</code></pre> <p></p> <p>\u6362\u4e00\u4e2a\u76ee\u5f55, \u628ahoteler-web\u62c9\u5230\u672c\u5730\uff0c</p> <pre><code>git clone ssh://git@localhost:10022/daming/hoteler-web.git\n</code></pre> <p></p>"},{"location":"software/install/drone-gogs-docker-devops/#drone","title":"Drone","text":"<p><code>Drone</code>\u662f\u4e00\u4e2a\u6301\u7eed\u96c6\u6210\u548c\u6301\u7eed\u4ea4\u4ed8\u7684\u5e73\u53f0\uff0c\u53ef\u4ee5\u4e0eDocker\u5b8c\u7f8e\u96c6\u6210\u3002\u76f8\u5bf9\u4e8e<code>Jenkins</code>\u6765\u8bf4\u66f4\u52a0\u8f7b\u91cf\uff0c\u53ef\u4ee5\u914d\u5408\u8f7b\u91cf\u7684Gogs\u6765\u5b9e\u73b0\u6301\u7eed\u96c6\u6210</p>"},{"location":"software/install/drone-gogs-docker-devops/#_4","title":"\u5b89\u88c5","text":"<pre><code>  drone-server:\n    image: drone/drone:2.11\n    container_name: drone\n    ports:\n      - 10081:80\n      - 9000\n    volumes:\n      - ./drone:/var/lib/drone/\n      - /var/run/docker.sock:/var/run/docker.sock\n    restart: always\n    environment:\n      - DRONE_OPEN=true\n      - DRONE_SERVER_HOST=drone-server\n      - DRONE_SERVER_PROTO=http\n      - DRONE_LOGS_TRACE=true\n      - DRONE_LOGS_DEBUG=true\n      - DRONE_GOGS=true\n      - DRONE_GOGS_SKIP_VERIFY=false\n      - DRONE_GOGS_SERVER=http://host.docker.internal:13000\n      - DRONE_PROVIDER=gogs\n      - DRONE_DATABASE_DATASOURCE=/var/lib/drone/drone.sqlite\n      - DRONE_DATABASE_DRIVER=sqlite3\n      - DRONE_RPC_SECRET=MWckgvhjqg4E3eQ0psgZX4iNCxoQiyU4LLvO4eXFFuHtrTkIy8vwcAc3erB5f9reM\n      - DRONE_SECRET=ALQU2M0KdptXUdTPKcEw\n      - DRONE_USER_CREATE=username:daming,admin:true\n    networks:\n      - ci-network\n  drone-runner-docker:\n    image: drone/drone-runner-docker:1.8.1\n    depends_on:\n      - drone-server\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n      - ./pipe/docker_engine://./pipe/docker_engine\n    restart: always\n    ports:\n      - 13001:3000\n    environment:\n      - DRONE_RPC_HOST=drone-server\n      - DRONE_RPC_PROTO=http\n      - DRONE_RPC_SECRET=MWckgvhjqg4E3eQ0psgZX4iNCxoQiyU4LLvO4eXFFuHtrTkIy8vwcAc3erB5f9reM\n      - DRONE_LOGS_TRACE=true\n      - DRONE_LOGS_DEBUG=true\n      - DRONE_RUNNER_CAPCAITY=2\n      - DRONE_RUNNER_NAME=docker-runner\n      - DRONE_SECRET=ALQU2M0KdptXUdTPKcEw\n    networks:\n      - ci-network\n\n</code></pre> <p>\u7136\u540e\u6267\u884c</p> <pre><code>docker-compose up drone-server drone-runner-docker\n</code></pre> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00http://127.0.0.1:10081\u3002</p> <p>drone\u6ca1\u6709\u81ea\u5df1\u7684\u8d26\u53f7\u4fe1\u606f, \u76f4\u63a5\u4f7f\u7528gogs\u7684\u8d26\u53f7\u4fe1\u606f\u5c31\u597d\u4e86</p> <p> </p> <p>\u6fc0\u6d3b<code>hoteler-web</code>\u4ed3\u5e93</p> <p> </p> <p>\u6211\u4eec\u9700\u8981\u8bbe\u7f6e<code>Project Settings</code>\u4e2d\u5f00\u542fTruste\u914d\u7f6e\uff1a</p> <p></p>"},{"location":"software/install/drone-gogs-docker-devops/#droneyml","title":"\u914d\u7f6edrone.yml","text":"<pre><code>kind: pipeline\nname: hoteler-web\n\nsteps:\n  - name: frontend\n    image: node:16\n    commands:\n      - yarn install &amp;&amp; yarn build\ntrigger:\n  branch:\n  - master\n</code></pre> <p>\u5e76\u63d0\u4ea4\u5230gogs\u4ed3\u5e93\u91cc\u3002</p>"},{"location":"software/install/drone-gogs-docker-devops/#gogswehook","title":"\u914d\u7f6egogs\u7684wehook","text":"<p>\u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u5165http://127.0.0.1:13000/daming/hoteler-web/settings/hooks/1</p> <p>\u6211\u4eec\u628a<code>http://drone-server/hook</code>\u6539\u6210<code>http://host.docker.internal:10081/hook</code>, \u70b9\u51fb\u66f4\u65b0web\u94a9\u5b50\u7684\u6309\u94ae\u3002</p> <p>\u6700\u540e\u6211\u4eec\u53ef\u4ee5\u70b9\u51fb\u6d4b\u8bd5\u63a8\u9001\u7684\u6309\u94ae\uff1a</p> <p></p> <p>\u5728drone\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff1a</p> <p></p> <p>\u7b2c\u4e00\u6b21ci/cd\u53ef\u80fd\u662f\u7f51\u7edc\u95ee\u9898\uff0c\u5bfc\u81f4\u5f00\u542f<code>node:16</code>\u955c\u50cf\u592a\u6162\u4e86\uff0c\u4e0a\u9762\u7684\u622a\u56fe\u5176\u5b9e\u662f\u7b2c\u4e8c\u6b21\u7684\u7ed3\u679c</p>"},{"location":"software/install/drone-gogs-docker-devops/#_5","title":"\u95ee\u9898","text":"<ol> <li> <p>drone\u65e0\u6cd5clone\u7684gogs\u7684\u5730\u5740\u95ee\u9898 \u5728<code>gogs/gogs/conf/app.ini</code>\u4e2d\u5c06EXTERNAL_URL\u4fee\u6539\u4e3ahttp://host.docker.internal:13000/\uff08\u4ec5\u4ec5\u4f5c\u4e3a\u672c\u5730\u4f7f\u7528\uff09</p> </li> <li> <p>\u5bb9\u5668\u65e0\u6cd5\u8bbf\u95eelocalhost windows\u6216\u8005mac\u7528\u6237\u53ef\u4ee5\u4f7f\u7528host.docker.internal\uff0c\u5176\u4ed6\u7cfb\u7edf\u5c1a\u672a\u6d4b\u8bd5\u8fc7\u3002</p> </li> </ol>"},{"location":"software/install/drone-gogs-docker-devops/#docker-composeyaml","title":"docker-compose.yaml","text":"<pre><code>version: '3'\nservices:\n  postgres:\n    image: postgres:14.2\n    container_name: postgres\n    ports:\n      - 5432:5432\n    volumes:\n      - ./postgres:/var/lib/postgresql/data\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 123456\n      POSTGRES_DB: postgres\n    networks:\n      - ci-network\n  gogs:\n    image: gogs/gogs:0.12.6\n    container_name: 'gogs'\n    ports:\n      - '10022:22'\n      - '13000:3000'\n    volumes:\n      - ./gogs:/data\n      - gogs/gogs\n    depends_on:\n      - postgres\n    networks:\n      - ci-network\n  drone-server:\n    image: drone/drone:2.11\n    container_name: drone\n    ports:\n      - 10081:80\n      - 9000\n    volumes:\n      - ./drone:/var/lib/drone/\n      - /var/run/docker.sock:/var/run/docker.sock\n    restart: always\n    environment:\n      - DRONE_OPEN=true\n      - DRONE_SERVER_HOST=drone-server\n      - DRONE_SERVER_PROTO=http\n      - DRONE_LOGS_TRACE=true\n      - DRONE_LOGS_DEBUG=true\n      - DRONE_GOGS=true\n      - DRONE_GOGS_SKIP_VERIFY=false\n      - DRONE_GOGS_SERVER=http://host.docker.internal:13000\n      - DRONE_PROVIDER=gogs\n      - DRONE_DATABASE_DATASOURCE=/var/lib/drone/drone.sqlite\n      - DRONE_DATABASE_DRIVER=sqlite3\n      - DRONE_RPC_SECRET=MWckgvhjqg4E3eQ0psgZX4iNCxoQiyU4LLvO4eXFFuHtrTkIy8vwcAc3erB5f9reM\n      - DRONE_SECRET=ALQU2M0KdptXUdTPKcEw\n      - DRONE_USER_CREATE=username:daming,admin:true\n    networks:\n      - ci-network\n  drone-runner-docker:\n    image: drone/drone-runner-docker:1.8.1\n    depends_on:\n      - drone-server\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n      - ./pipe/docker_engine://./pipe/docker_engine\n    restart: always\n    ports:\n      - 13001:3000\n    environment:\n      - DRONE_RPC_HOST=drone-server\n      - DRONE_RPC_PROTO=http\n      - DRONE_RPC_SECRET=MWckgvhjqg4E3eQ0psgZX4iNCxoQiyU4LLvO4eXFFuHtrTkIy8vwcAc3erB5f9reM\n      - DRONE_LOGS_TRACE=true\n      - DRONE_LOGS_DEBUG=true\n      - DRONE_RUNNER_CAPCAITY=2\n      - DRONE_RUNNER_NAME=docker-runner\n      - DRONE_SECRET=ALQU2M0KdptXUdTPKcEw\n    networks:\n      - ci-network\n\nnetworks:\n  ci-network:\n    external: true\n</code></pre>"},{"location":"software/install/drone-gogs-docker-devops/#_6","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>gogs\u5b98\u7f51</li> <li>gogs\u5b89\u88c5\u4e0e\u8bf4\u660e(docker)</li> <li>Drone+Gogs+docker\u5b9e\u73b0\u6301\u7eed\u81ea\u52a8\u5316\u90e8\u7f72</li> <li>\u4f7f\u7528drone\u548cgogs\u642d\u5efa\u81ea\u5df1\u7684CI/CD\u7cfb\u7edf</li> <li>Setup CI/CD service with gogs &amp; registry &amp; drone</li> <li>Drone \u6559\u7a0b</li> <li>\u8f7b\u91cf\u5feb\u901f\u7684CI\u5de5\u5177Drone\u5feb\u901f\u5165\u95e8</li> </ol>"},{"location":"software/install/how-to-install-android-studio/","title":"Android Studio\u5b89\u88c5\u7b14\u8bb0","text":"<p>\u7b80\u5355\u8bb0\u5f55\u4e00\u4e0bAndroid Studio\u5b89\u88c5</p>"},{"location":"software/install/how-to-install-android-studio/#_1","title":"\u4e0b\u8f7d","text":"<p>\u4ece\u5b98\u7f51\u5b89\u88c5Android Studio,</p> <p>\u7136\u540e\u70b9\u51fb\u5b89\u88c5\u3002</p>"},{"location":"software/install/how-to-install-android-studio/#android-sdk","title":"Android SDK","text":"<p>\u4f7f\u7528http://ping.chinaz.com\u83b7\u53d6dl.google.com\u7684\u5927\u9646\u54cd\u5e94\u65f6\u95f4\u6700\u77ed\u7684IP\u5730\u5740\u3002</p> <p>\u4ee5\u6211\u4e3a\u4f8b\uff1a180.163.151.161</p> <p>\u5c06\u5176\u5199\u5165hosts\u6587\u4ef6(C:\\WINDOWS\\System32\\drivers\\etc\\hosts)</p> <pre><code>180.163.151.161 dl.google.com\n</code></pre>"},{"location":"software/install/how-to-install-android-studio/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<p>\u5728Android Studio\u4e2d\u4e0b\u8f7dAndroid SDK\u7684\u4e24\u79cd\u65b9\u5f0f\uff08Android Studio3.0\u3001windows</p>"},{"location":"software/install/how-to-install-homebrew/","title":"Homebrew\u5b89\u88c5\u7b14\u8bb0","text":"<p>\u7b80\u5355\u8bb0\u5f55\u4e00\u4e0bHomebrew\u5b89\u88c5</p>"},{"location":"software/install/how-to-install-homebrew/#_1","title":"\u4e0b\u8f7d","text":"<p>\u65b0\u5efa\u7ec8\u7aef\uff0c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a</p> <pre><code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre>"},{"location":"software/install/how-to-install-homebrew/#_2","title":"\u914d\u7f6e\u56fd\u5185\u955c\u50cf","text":"<p>\u66ff\u6362 brew.git</p> <pre><code>cd \"$(brew --repo)\" &amp;&amp; git remote set-url origin https://mirrors.ustc.edu.cn/brew.git\n</code></pre> <p>\u66ff\u6362 homebrew-core.git</p> <pre><code>cd \"$(brew --repo)/Library/Taps/homebrew/homebrew-core\" &amp;&amp; git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git\n</code></pre> <p>Homebrew Bottles \u914d\u7f6e\u955c\u50cf</p> <p>\u4ee5zsh\u4e3a\u4f8b</p> <pre><code>echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' &gt;&gt; ~/.zshrc &amp;&amp; source ~/.zshrc\n</code></pre>"},{"location":"software/install/how-to-install-homebrew/#_3","title":"\u6062\u590d\u9ed8\u8ba4\u5b98\u65b9\u6e90","text":"<p>\u91cd\u7f6ebrew.git:</p> <pre><code>cd \"$(brew --repo)\" &amp;&amp; git remote set-url origin https://github.com/Homebrew/brew.git\n</code></pre> <p>\u91cd\u7f6ehomebrew-core.git:</p> <pre><code>cd \"$(brew --repo)/Library/Taps/homebrew/homebrew-core\" &amp;&amp; git remote set-url origin https://github.com/Homebrew/homebrew-core.git\n</code></pre> <p>\u6ce8\u91ca\u6389 zsh \u914d\u7f6e\u6587\u4ef6\u91cc\u7684\u6709\u5173 Homebrew Bottles \u5373\u53ef\u6062\u590d\u5b98\u65b9\u6e90\u3002 \u91cd\u542f zsh \u6216\u8ba9 zsh \u91cd\u8bfb\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"software/install/how-to-install-homebrew/#_4","title":"\u53c2\u8003\u8d44\u6599","text":"<p>\u6559\u4f60\u4e00\u62db\u641e\u5b9a Homebrew \u4e0b\u8f7d\u52a0\u901f \u66ff\u6362\u53ca\u91cd\u7f6e Homebrew \u9ed8\u8ba4\u6e90</p>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/","title":"Docker Desktop\u81ea\u5e26k8s\u5b89\u88c5\u7b14\u8bb0","text":"<p>\u5b89\u88c5\u4e00\u4e2ak8s\u8fd8\u662f\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u4e8b\u60c5\uff0c\u4f46\u662fDocker Desktop\u5df2\u7ecf\u81ea\u5e26\u4e86\u4e00\u4e2a\u7b80\u6613\u7248\u7684k8s\uff0c\u53ef\u4ee5\u57fa\u672c\u6ee1\u8db3\u6b63\u5e38\u7684\u5b66\u4e60\u4f7f\u7528</p>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#docker","title":"\u5b89\u88c5Docker","text":"<p>\u5bf9\u4e8eMac\u7528\u6237\uff0c\u8bf7\u70b9\u51fbDocker Desktop \u5bf9\u4e8eWindows10\u7528\u6237\uff0c\u8bf7\u70b9\u51fbDocker Desktop</p>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#docker_1","title":"\u914d\u7f6edocker\u7684\u56fd\u5185\u955c\u50cf","text":"<p>\u56fd\u5185\u7684\u7f51\u7edc\u4e0b\u8f7d\u53ef\u80fd\u6bd4\u8f83\u6162\uff0c\u5efa\u8bae\u4f7f\u7528\u4e0b\u9762\u7684\u955c\u50cf</p> <pre><code>{\n  \"registry-mirrors\": [\n    \"https://dockerproxy.com\",\n    \"https://dockerhub.azk8s.cn\",\n    \"https://registry.docker-cn.com\",\n    \"https://docker.mirrors.ustc.edu.cn\",\n    \"https://mirror.baidubce.com\",\n    \"http://hub-mirror.c.163.com\"\n  ],\n  \"insecure-registries\": [],\n  \"debug\": true,\n  \"experimental\": false\n}\n</code></pre>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#k8s","title":"\u5b89\u88c5k8s\u6240\u9700\u7684\u955c\u50cf","text":"<p>\u4e3a\u4e86\u66f4\u5feb\u7684\u5b8c\u6210\u4e00\u4e9b\u5b89\u88c5\uff0c\u6211\u4eec\u5148\u901a\u8fc7\u4e00\u4e2a\u963f\u91cc\u4e91\u7684\u6279\u5904\u7406\uff0c\u63d0\u524d\u628aKubernetes\u9700\u8981\u7684Images\u62c9\u53d6\u4e0b\u6765</p> <pre><code>git clone https://github.com/AliyunContainerService/k8s-for-docker-desktop.git\n\ncd k8s-for-docker-desktop\n\n.\\load_images.ps1 or load_images.sh\n</code></pre>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#kubernetes","title":"\u542f\u52a8Kubernetes","text":"<p>\u5728Docker\u4eea\u8868\u76d8\u4e0a\u5728Settings\u5207\u5230Kubernetes\u4e0a\u542f\u52a8Enabled Kubernetes</p>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#dashboard","title":"\u5b89\u88c5Dashboard\uff08\u53ef\u9009\uff09","text":"<p>\u4f7f\u7528recommended.yaml\u8fdb\u884c\u5b89\u88c5</p> <p>\u5982\u679c\u4e0d\u80fd\u8bbf\u95eerecommended.yaml\uff0c \u53ef\u4ee5\u4f7f\u7528\u9644\u5f55\u7684\u526f\u672c</p> <pre><code>$ kubectl apply -f recommended.yaml \nnamespace/kubernetes-dashboard created\nserviceaccount/kubernetes-dashboard created\nservice/kubernetes-dashboard created\nsecret/kubernetes-dashboard-certs created\nsecret/kubernetes-dashboard-csrf created\nsecret/kubernetes-dashboard-key-holder created\nconfigmap/kubernetes-dashboard-settings created\nrole.rbac.authorization.k8s.io/kubernetes-dashboard created\nclusterrole.rbac.authorization.k8s.io/kubernetes-dashboard created\nrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created\nclusterrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created\ndeployment.apps/kubernetes-dashboard created\nservice/dashboard-metrics-scraper created\ndeployment.apps/dashboard-metrics-scraper created\n</code></pre>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#_1","title":"\u542f\u52a8","text":"<p>\u524d\u53f0\u542f\u52a8</p> <pre><code>$ kubectl proxy\n</code></pre> <p>\u540e\u53f0\u542f\u52a8</p> <pre><code>nohup kubectl proxy &gt;/dev/null &amp;\n</code></pre> <p>\u73b0\u5728\u53ef\u4ee5\u8bbf\u95ee\uff1a http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</p>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#_2","title":"\u767b\u5f55","text":"<p>\u767b\u5f55\u9700\u8981\u83b7\u53d6token</p> <pre><code>kubectl -n kube-system describe secret default| awk '$1==\"token:\"{print $2}'\n</code></pre> <p>\u8fd9\u662f\u6211\u7684\u8fd4\u56de\u7ed3\u679c</p> <pre><code>eyJhbGciOiJSUzI1NiIsImtpZCI6Imk0TWpNeGM3SWVrMHllMVphM0FPVFZIZ2RIaXZIbll2UzZObkJSZTZ5MUEifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJkZWZhdWx0LXRva2VuLXR2bWJ0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImRlZmF1bHQiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiJiZDI3YzljZS0wZWY2LTQ0YTAtYThmNC0xYTg2ZWMxN2JmNTQiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZS1zeXN0ZW06ZGVmYXVsdCJ9.UjlNOPi95jsxtbGXVu6t3LK-1kOjlcLk7_qVPhDEmYD9so5BLnosS6Z_nBfpO2aU5xxMZMMvkTIydMKVTgftzeFpUZ7_ANsqjZ17Z2EnzUxhzkBU9USU3294APU4Gxep1yb4uyetRtIozdsd39-TlMwoCkHb4aGbluZiT64AkbDS6v7PhONaaCIKTT6hxvo4PEiyau_fEKCfI6rsWdcoOWlKLeXOwqGW1tHgIZEPR7Eln8NA52fAOvHyPp5DSKgD3L2qGDAlQNXCFCrB2bc7-xBEEBjeDXOhTIl1sUX6gmhEzp0XFH20JZaSJysvW1ZQGsv_AXj-4PX8Egv1kq1txA\n</code></pre>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#_3","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>Kubernetes Dashboard</li> </ul>"},{"location":"software/k8s/how-to-install-docker-desktop-k8s/#_4","title":"\u9644\u5f55","text":"<p>recommended.yaml\u7684\u526f\u672c</p> <pre><code># Copyright 2017 The Kubernetes Authors.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: kubernetes-dashboard\n\n---\n\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\n\n---\n\nkind: Service\napiVersion: v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nspec:\n  ports:\n    - port: 443\n      targetPort: 8443\n  selector:\n    k8s-app: kubernetes-dashboard\n\n---\n\napiVersion: v1\nkind: Secret\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-certs\n  namespace: kubernetes-dashboard\ntype: Opaque\n\n---\n\napiVersion: v1\nkind: Secret\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-csrf\n  namespace: kubernetes-dashboard\ntype: Opaque\ndata:\n  csrf: \"\"\n\n---\n\napiVersion: v1\nkind: Secret\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-key-holder\n  namespace: kubernetes-dashboard\ntype: Opaque\n\n---\n\nkind: ConfigMap\napiVersion: v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-settings\n  namespace: kubernetes-dashboard\n\n---\n\nkind: Role\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nrules:\n  # Allow Dashboard to get, update and delete Dashboard exclusive secrets.\n  - apiGroups: [\"\"]\n    resources: [\"secrets\"]\n    resourceNames: [\"kubernetes-dashboard-key-holder\", \"kubernetes-dashboard-certs\", \"kubernetes-dashboard-csrf\"]\n    verbs: [\"get\", \"update\", \"delete\"]\n    # Allow Dashboard to get and update 'kubernetes-dashboard-settings' config map.\n  - apiGroups: [\"\"]\n    resources: [\"configmaps\"]\n    resourceNames: [\"kubernetes-dashboard-settings\"]\n    verbs: [\"get\", \"update\"]\n    # Allow Dashboard to get metrics.\n  - apiGroups: [\"\"]\n    resources: [\"services\"]\n    resourceNames: [\"heapster\", \"dashboard-metrics-scraper\"]\n    verbs: [\"proxy\"]\n  - apiGroups: [\"\"]\n    resources: [\"services/proxy\"]\n    resourceNames: [\"heapster\", \"http:heapster:\", \"https:heapster:\", \"dashboard-metrics-scraper\", \"http:dashboard-metrics-scraper\"]\n    verbs: [\"get\"]\n\n---\n\nkind: ClusterRole\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\nrules:\n  # Allow Metrics Scraper to get metrics from the Metrics server\n  - apiGroups: [\"metrics.k8s.io\"]\n    resources: [\"pods\", \"nodes\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n\n---\n\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: Role\n  name: kubernetes-dashboard\nsubjects:\n  - kind: ServiceAccount\n    name: kubernetes-dashboard\n    namespace: kubernetes-dashboard\n\n---\n\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: kubernetes-dashboard\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: kubernetes-dashboard\nsubjects:\n  - kind: ServiceAccount\n    name: kubernetes-dashboard\n    namespace: kubernetes-dashboard\n\n---\n\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nspec:\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      k8s-app: kubernetes-dashboard\n  template:\n    metadata:\n      labels:\n        k8s-app: kubernetes-dashboard\n    spec:\n      containers:\n        - name: kubernetes-dashboard\n          image: kubernetesui/dashboard:v2.0.3\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 8443\n              protocol: TCP\n          args:\n            - --auto-generate-certificates\n            - --namespace=kubernetes-dashboard\n            # Uncomment the following line to manually specify Kubernetes API server Host\n            # If not specified, Dashboard will attempt to auto discover the API server and connect\n            # to it. Uncomment only if the default does not work.\n            # - --apiserver-host=http://my-address:port\n          volumeMounts:\n            - name: kubernetes-dashboard-certs\n              mountPath: /certs\n              # Create on-disk volume to store exec logs\n            - mountPath: /tmp\n              name: tmp-volume\n          livenessProbe:\n            httpGet:\n              scheme: HTTPS\n              path: /\n              port: 8443\n            initialDelaySeconds: 30\n            timeoutSeconds: 30\n          securityContext:\n            allowPrivilegeEscalation: false\n            readOnlyRootFilesystem: true\n            runAsUser: 1001\n            runAsGroup: 2001\n      volumes:\n        - name: kubernetes-dashboard-certs\n          secret:\n            secretName: kubernetes-dashboard-certs\n        - name: tmp-volume\n          emptyDir: {}\n      serviceAccountName: kubernetes-dashboard\n      nodeSelector:\n        \"kubernetes.io/os\": linux\n      # Comment the following tolerations if Dashboard must not be deployed on master\n      tolerations:\n        - key: node-role.kubernetes.io/master\n          effect: NoSchedule\n\n---\n\nkind: Service\napiVersion: v1\nmetadata:\n  labels:\n    k8s-app: dashboard-metrics-scraper\n  name: dashboard-metrics-scraper\n  namespace: kubernetes-dashboard\nspec:\n  ports:\n    - port: 8000\n      targetPort: 8000\n  selector:\n    k8s-app: dashboard-metrics-scraper\n\n---\n\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  labels:\n    k8s-app: dashboard-metrics-scraper\n  name: dashboard-metrics-scraper\n  namespace: kubernetes-dashboard\nspec:\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      k8s-app: dashboard-metrics-scraper\n  template:\n    metadata:\n      labels:\n        k8s-app: dashboard-metrics-scraper\n      annotations:\n        seccomp.security.alpha.kubernetes.io/pod: 'runtime/default'\n    spec:\n      containers:\n        - name: dashboard-metrics-scraper\n          image: kubernetesui/metrics-scraper:v1.0.4\n          ports:\n            - containerPort: 8000\n              protocol: TCP\n          livenessProbe:\n            httpGet:\n              scheme: HTTP\n              path: /\n              port: 8000\n            initialDelaySeconds: 30\n            timeoutSeconds: 30\n          volumeMounts:\n          - mountPath: /tmp\n            name: tmp-volume\n          securityContext:\n            allowPrivilegeEscalation: false\n            readOnlyRootFilesystem: true\n            runAsUser: 1001\n            runAsGroup: 2001\n      serviceAccountName: kubernetes-dashboard\n      nodeSelector:\n        \"kubernetes.io/os\": linux\n      # Comment the following tolerations if Dashboard must not be deployed on master\n      tolerations:\n        - key: node-role.kubernetes.io/master\n          effect: NoSchedule\n      volumes:\n        - name: tmp-volume\n          emptyDir: {}\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube-on-mac/","title":"Mac\u7248minikube\u5b89\u88c5\u7b14\u8bb0","text":"<p>minikube\u662f\u4e00\u4e2a\u4e13\u6ce8\u4e8e\u8ba9Kubernetes\u66f4\u52a0\u5bb9\u6613\u5b66\u4e60\u548c\u5f00\u53d1\u7684\u672c\u5730Kubernetes\u3002 \u53ea\u9700\u8981Docker\u6216\u8005\u865a\u62df\u673a\u73af\u5883\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u901a\u8fc7<code>minikube start</code>\u5c31\u80fd\u5feb\u901f\u542f\u52a8Kubernetes\u3002</p>"},{"location":"software/k8s/how-to-install-minkube-on-mac/#_1","title":"\u8981\u6c42","text":"<p>\u5b89\u88c5minikube\u9700\u8981\u4ee5\u4e0b\u8981\u6c42\uff1a</p> <ol> <li>\u81f3\u5c11\u4e24\u4e2aCPU</li> <li>\u81f3\u5c112GB\u5185\u5bb9</li> <li>\u81f3\u5c1120GB\u7684\u786c\u76d8\u7a7a\u95f4</li> <li>\u5bb9\u5668\u6216\u8005\u865a\u62df\u673a\uff0c \u6bd4\u5982Docker, Hyperkit, Hyper-V, KVM, Parallels, Podman, VirtualBox, or VMware Fusion/Workstation</li> </ol>"},{"location":"software/k8s/how-to-install-minkube-on-mac/#_2","title":"\u5b89\u88c5","text":"<p>\u9488\u5bf9macos\u7684x86-64\u7684\u5e73\u53f0\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528homebrew\u8fdb\u884c\u5b89\u88c5\uff1a</p> <pre><code>brew install minikube\n</code></pre> <p>\u5982\u679c\u503e\u5411\u4e8e\u4e8c\u8fdb\u5236\u6587\u4ef6\u5b89\u88c5\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff1a</p> <pre><code>curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-amd64\nsudo install minikube-darwin-amd64 /usr/local/bin/minikube\n</code></pre> <p>\u5982\u679c\u662f\u5176\u4ed6\u5e73\u53f0\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u8bf7\u770bminikube\u7684\u5b98\u7f51\u6559\u7a0b</p>"},{"location":"software/k8s/how-to-install-minkube-on-mac/#_3","title":"\u542f\u52a8","text":"<p>\u7b80\u5355\u6765\u8bf4\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528<code>minikube start</code>\u53ef\u4ee5\u76f4\u63a5\u542f\u52a8\u4e86\uff0c\u4f46\u662f\u5728\u56fd\u5185\u7528\u4e8e\u7279\u6b8a\u7684\u7f51\u7edc\u9650\u5236\uff0c\u8bf7\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>minikube start --registry-mirror=https://registry.docker-cn.com  --image-repository registry.cn-hangzhou.aliyuncs.com/google_containers\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube-on-mac/#drivers","title":"\u9a71\u52a8\uff08Drivers\uff09","text":"<p>\u901a\u8fc7\u9a71\u52a8\uff0cminikube\u53ef\u4ee5\u652f\u6301\u4e0d\u540c\u7684\u5bb9\u5668\u548c\u865a\u62df\u673a\u3002</p> <p>\u9488\u5bf9macos\u6765\u8bf4\uff0c\u63a8\u8350\u4f7f\u7528docker\u548chyperkit\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u4e0a\u9762\u7684\u547d\u4ee4\u7684\u57fa\u7840\u4e0a\u6dfb\u52a0<code>--vm-driver=docker</code>\u6216\u8005<code>--vm-driver=hyperkit</code>\u3002</p> <p>\u5176\u4ed6\u5e73\u53f0\u53ef\u4ee5\u8bbf\u95eeDrivers\u3002</p>"},{"location":"software/k8s/how-to-install-minkube-on-mac/#kubectl","title":"kubectl","text":"<p>kubectl\u662fKubernetes\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u65b9\u4fbf\u7528\u6237\u901a\u8fc7\u4e00\u4e9b\u7b80\u5355\u7684\u547d\u4ee4\u53bb\u7ba1\u7406Kubernetes\u3002</p> <p>\u5982\u679c\u4e8b\u5148\u5b89\u88c5\u4e86docker desktop, \u90a3\u4e48<code>kubectl</code>\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86\uff0c \u5982\u679c\u6ca1\u6709\u5b89\u88c5\uff0c\u90a3\u53ef\u4ee5\u4f7f\u7528homebrew\u5b89\u88c5\uff1a</p> <pre><code>brew install kubectl \n</code></pre> <p>\u5176\u4ed6\u5e73\u53f0\u53ef\u4ee5\u8bbf\u95eekubectl</p>"},{"location":"software/k8s/how-to-install-minkube-on-mac/#_4","title":"\u9a8c\u8bc1","text":"<p>\u65b0\u5efa\u7ec8\u7aef\uff0c\u8f93\u5165<code>kubectl get po -A</code>,\u663e\u793a\u4ee5\u4e0b\u7c7b\u4f3c\u547d\u4ee4\u5c31\u7b97\u542f\u52a8\u6210\u529f\u4e86\uff1a</p> <pre><code>NAMESPACE     NAME                               READY   STATUS    RESTARTS   AGE\nkube-system   coredns-7d89d9b6b8-d462h           0/1     Running   0          20s\nkube-system   etcd-minikube                      1/1     Running   0          32s\nkube-system   kube-apiserver-minikube            1/1     Running   0          35s\nkube-system   kube-controller-manager-minikube   1/1     Running   0          32s\nkube-system   kube-proxy-gcbpj                   1/1     Running   0          20s\nkube-system   kube-scheduler-minikube            1/1     Running   0          31s\nkube-system   storage-provisioner                1/1     Running   0          30s\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube-on-mac/#_5","title":"\u53c2\u8003\u8d44\u6599","text":"<p>\u4ee5\u4e0b\u662f\u672c\u6587\u64b0\u5199\u8fc7\u7a0b\u4e2d\u7684\u53c2\u8003\u8d44\u6599\uff1a</p> <ol> <li>minikube start</li> <li>kubectl</li> <li>Minkube\u5b89\u88c5\u7b14\u8bb0</li> <li>Minikube - Kubernetes\u672c\u5730\u5b9e\u9a8c\u73af\u5883</li> </ol>"},{"location":"software/k8s/how-to-install-minkube/","title":"Minkube\u5b89\u88c5\u7b14\u8bb0","text":""},{"location":"software/k8s/how-to-install-minkube/#ubuntu-18045-ltsminkube","title":"\u5728Ubuntu 18.04.5 LTS\u4e0a\u5b89\u88c5minkube","text":""},{"location":"software/k8s/how-to-install-minkube/#_1","title":"\u8981\u6c42","text":"<ol> <li>2 CPUs or more</li> <li>2GB\u5185\u5b58</li> <li>20G\u7a7a\u95f4</li> <li>\u65e0\u7ebf\u7f51\u7edc\u8fde\u63a5</li> <li>\u5bb9\u5668\u6216\u8005\u865a\u62df\u673a\uff0c \u6bd4\u5982: Docker, Hyperkit, Hyper-V, KVM, Parallels, Podman, VirtualBox, or VMWare</li> </ol>"},{"location":"software/k8s/how-to-install-minkube/#_2","title":"\u4e0b\u8f7d","text":"<pre><code>curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube/#_3","title":"\u542f\u52a8","text":"<pre><code>sudo minikube start --registry-mirror=https://registry.docker-cn.com --vm-driver=none --image-repository registry.cn-hangzhou.aliyuncs.com/google_containers\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube/#_4","title":"\u6ce8\u610f\u70b9","text":""},{"location":"software/k8s/how-to-install-minkube/#none-driver-integration-tests-k8s-118-needs-conntrack-installed","title":"none driver integration tests: k8s 1.18 needs conntrack installed","text":"<p>\u89e3\u51b3\u65b9\u6848</p> <pre><code>sudo apt-get install conntrack\n## https://github.com/kubernetes/minikube/issues/7179\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube/#windowsk8s","title":"\u5728Windows\u4e0a\u5b89\u88c5k8s","text":""},{"location":"software/k8s/how-to-install-minkube/#docker","title":"\u5b89\u88c5Docker","text":"<p>\u5b89\u88c5Docker Desktop</p>"},{"location":"software/k8s/how-to-install-minkube/#docker_1","title":"\u914d\u7f6edocker\u7684\u56fd\u5185\u955c\u50cf","text":"<pre><code>{\n  \"registry-mirrors\": [\n    \"https://dockerhub.azk8s.cn\",\n    \"https://registry.docker-cn.com\",\n    \"https://docker.mirrors.ustc.edu.cn\",\n    \"http://hub-mirror.c.163.com\"\n  ],\n  \"insecure-registries\": [],\n  \"debug\": true,\n  \"experimental\": false\n}\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube/#_5","title":"\u4f7f\u7528\u963f\u91cc\u4e91\u7684\u955c\u50cf","text":"<p>\u4e3a\u4e86\u66f4\u5feb\u7684\u5b8c\u6210\u4e00\u4e9b\u5b89\u88c5\uff0c\u6211\u4eec\u5148\u901a\u8fc7\u4e00\u4e2a\u963f\u91cc\u4e91\u7684\u6279\u5904\u7406\uff0c\u63d0\u524d\u628aKubernetes\u9700\u8981\u7684Images\u62c9\u53d6\u4e0b\u6765</p> <pre><code>git clone https://github.com/AliyunContainerService/k8s-for-docker-desktop.git\n\ncd k8s-for-docker-desktop\n\n.\\load_images.ps1\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube/#kubernetes","title":"\u542f\u52a8Kubernetes","text":"<p>\u5728Docker\u4eea\u8868\u76d8\u4e0a\u5728Settings\u5207\u5230Kubernetes\u4e0a\u542f\u52a8Enabled Kubernetes</p>"},{"location":"software/k8s/how-to-install-minkube/#dashboard","title":"\u5b89\u88c5Dashboard\uff08\u53ef\u9009\uff09","text":"<p>\u4f7f\u7528recommended.yaml\u8fdb\u884c\u5b89\u88c5</p> <p>\u5982\u679c\u4e0d\u80fd\u8bbf\u95eerecommended.yaml\uff0c \u53ef\u4ee5\u4f7f\u7528\u9644\u5f55\u7684\u526f\u672c</p> <pre><code>$ kubectl apply -f recommended.yaml \nnamespace/kubernetes-dashboard created\nserviceaccount/kubernetes-dashboard created\nservice/kubernetes-dashboard created\nsecret/kubernetes-dashboard-certs created\nsecret/kubernetes-dashboard-csrf created\nsecret/kubernetes-dashboard-key-holder created\nconfigmap/kubernetes-dashboard-settings created\nrole.rbac.authorization.k8s.io/kubernetes-dashboard created\nclusterrole.rbac.authorization.k8s.io/kubernetes-dashboard created\nrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created\nclusterrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created\ndeployment.apps/kubernetes-dashboard created\nservice/dashboard-metrics-scraper created\ndeployment.apps/dashboard-metrics-scraper created\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube/#_6","title":"\u542f\u52a8","text":"<p>\u524d\u53f0\u542f\u52a8</p> <pre><code>$ kubectl proxy\n</code></pre> <p>\u540e\u53f0\u542f\u52a8</p> <pre><code>nohup kubectl proxy &gt;/dev/null &amp;\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube/#_7","title":"\u767b\u5f55","text":"<p>\u767b\u5f55\u9700\u8981\u83b7\u53d6token</p> <pre><code>kubectl -n kube-system describe secret default| awk '$1==\"token:\"{print $2}'\n</code></pre> <p>\u8fd9\u662f\u6211\u7684\u8fd4\u56de\u7ed3\u679c</p> <pre><code>eyJhbGciOiJSUzI1NiIsImtpZCI6Imk0TWpNeGM3SWVrMHllMVphM0FPVFZIZ2RIaXZIbll2UzZObkJSZTZ5MUEifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJkZWZhdWx0LXRva2VuLXR2bWJ0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImRlZmF1bHQiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiJiZDI3YzljZS0wZWY2LTQ0YTAtYThmNC0xYTg2ZWMxN2JmNTQiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZS1zeXN0ZW06ZGVmYXVsdCJ9.UjlNOPi95jsxtbGXVu6t3LK-1kOjlcLk7_qVPhDEmYD9so5BLnosS6Z_nBfpO2aU5xxMZMMvkTIydMKVTgftzeFpUZ7_ANsqjZ17Z2EnzUxhzkBU9USU3294APU4Gxep1yb4uyetRtIozdsd39-TlMwoCkHb4aGbluZiT64AkbDS6v7PhONaaCIKTT6hxvo4PEiyau_fEKCfI6rsWdcoOWlKLeXOwqGW1tHgIZEPR7Eln8NA52fAOvHyPp5DSKgD3L2qGDAlQNXCFCrB2bc7-xBEEBjeDXOhTIl1sUX6gmhEzp0XFH20JZaSJysvW1ZQGsv_AXj-4PX8Egv1kq1txA\n</code></pre>"},{"location":"software/k8s/how-to-install-minkube/#_8","title":"\u9644\u5f55","text":"<p>recommended.yaml\u7684\u526f\u672c</p> <pre><code># Copyright 2017 The Kubernetes Authors.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: kubernetes-dashboard\n\n---\n\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\n\n---\n\nkind: Service\napiVersion: v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nspec:\n  ports:\n    - port: 443\n      targetPort: 8443\n  selector:\n    k8s-app: kubernetes-dashboard\n\n---\n\napiVersion: v1\nkind: Secret\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-certs\n  namespace: kubernetes-dashboard\ntype: Opaque\n\n---\n\napiVersion: v1\nkind: Secret\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-csrf\n  namespace: kubernetes-dashboard\ntype: Opaque\ndata:\n  csrf: \"\"\n\n---\n\napiVersion: v1\nkind: Secret\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-key-holder\n  namespace: kubernetes-dashboard\ntype: Opaque\n\n---\n\nkind: ConfigMap\napiVersion: v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-settings\n  namespace: kubernetes-dashboard\n\n---\n\nkind: Role\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nrules:\n  # Allow Dashboard to get, update and delete Dashboard exclusive secrets.\n  - apiGroups: [\"\"]\n    resources: [\"secrets\"]\n    resourceNames: [\"kubernetes-dashboard-key-holder\", \"kubernetes-dashboard-certs\", \"kubernetes-dashboard-csrf\"]\n    verbs: [\"get\", \"update\", \"delete\"]\n    # Allow Dashboard to get and update 'kubernetes-dashboard-settings' config map.\n  - apiGroups: [\"\"]\n    resources: [\"configmaps\"]\n    resourceNames: [\"kubernetes-dashboard-settings\"]\n    verbs: [\"get\", \"update\"]\n    # Allow Dashboard to get metrics.\n  - apiGroups: [\"\"]\n    resources: [\"services\"]\n    resourceNames: [\"heapster\", \"dashboard-metrics-scraper\"]\n    verbs: [\"proxy\"]\n  - apiGroups: [\"\"]\n    resources: [\"services/proxy\"]\n    resourceNames: [\"heapster\", \"http:heapster:\", \"https:heapster:\", \"dashboard-metrics-scraper\", \"http:dashboard-metrics-scraper\"]\n    verbs: [\"get\"]\n\n---\n\nkind: ClusterRole\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\nrules:\n  # Allow Metrics Scraper to get metrics from the Metrics server\n  - apiGroups: [\"metrics.k8s.io\"]\n    resources: [\"pods\", \"nodes\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n\n---\n\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: Role\n  name: kubernetes-dashboard\nsubjects:\n  - kind: ServiceAccount\n    name: kubernetes-dashboard\n    namespace: kubernetes-dashboard\n\n---\n\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: kubernetes-dashboard\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: kubernetes-dashboard\nsubjects:\n  - kind: ServiceAccount\n    name: kubernetes-dashboard\n    namespace: kubernetes-dashboard\n\n---\n\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nspec:\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      k8s-app: kubernetes-dashboard\n  template:\n    metadata:\n      labels:\n        k8s-app: kubernetes-dashboard\n    spec:\n      containers:\n        - name: kubernetes-dashboard\n          image: kubernetesui/dashboard:v2.0.3\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 8443\n              protocol: TCP\n          args:\n            - --auto-generate-certificates\n            - --namespace=kubernetes-dashboard\n            # Uncomment the following line to manually specify Kubernetes API server Host\n            # If not specified, Dashboard will attempt to auto discover the API server and connect\n            # to it. Uncomment only if the default does not work.\n            # - --apiserver-host=http://my-address:port\n          volumeMounts:\n            - name: kubernetes-dashboard-certs\n              mountPath: /certs\n              # Create on-disk volume to store exec logs\n            - mountPath: /tmp\n              name: tmp-volume\n          livenessProbe:\n            httpGet:\n              scheme: HTTPS\n              path: /\n              port: 8443\n            initialDelaySeconds: 30\n            timeoutSeconds: 30\n          securityContext:\n            allowPrivilegeEscalation: false\n            readOnlyRootFilesystem: true\n            runAsUser: 1001\n            runAsGroup: 2001\n      volumes:\n        - name: kubernetes-dashboard-certs\n          secret:\n            secretName: kubernetes-dashboard-certs\n        - name: tmp-volume\n          emptyDir: {}\n      serviceAccountName: kubernetes-dashboard\n      nodeSelector:\n        \"kubernetes.io/os\": linux\n      # Comment the following tolerations if Dashboard must not be deployed on master\n      tolerations:\n        - key: node-role.kubernetes.io/master\n          effect: NoSchedule\n\n---\n\nkind: Service\napiVersion: v1\nmetadata:\n  labels:\n    k8s-app: dashboard-metrics-scraper\n  name: dashboard-metrics-scraper\n  namespace: kubernetes-dashboard\nspec:\n  ports:\n    - port: 8000\n      targetPort: 8000\n  selector:\n    k8s-app: dashboard-metrics-scraper\n\n---\n\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  labels:\n    k8s-app: dashboard-metrics-scraper\n  name: dashboard-metrics-scraper\n  namespace: kubernetes-dashboard\nspec:\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      k8s-app: dashboard-metrics-scraper\n  template:\n    metadata:\n      labels:\n        k8s-app: dashboard-metrics-scraper\n      annotations:\n        seccomp.security.alpha.kubernetes.io/pod: 'runtime/default'\n    spec:\n      containers:\n        - name: dashboard-metrics-scraper\n          image: kubernetesui/metrics-scraper:v1.0.4\n          ports:\n            - containerPort: 8000\n              protocol: TCP\n          livenessProbe:\n            httpGet:\n              scheme: HTTP\n              path: /\n              port: 8000\n            initialDelaySeconds: 30\n            timeoutSeconds: 30\n          volumeMounts:\n          - mountPath: /tmp\n            name: tmp-volume\n          securityContext:\n            allowPrivilegeEscalation: false\n            readOnlyRootFilesystem: true\n            runAsUser: 1001\n            runAsGroup: 2001\n      serviceAccountName: kubernetes-dashboard\n      nodeSelector:\n        \"kubernetes.io/os\": linux\n      # Comment the following tolerations if Dashboard must not be deployed on master\n      tolerations:\n        - key: node-role.kubernetes.io/master\n          effect: NoSchedule\n      volumes:\n        - name: tmp-volume\n          emptyDir: {}\n</code></pre>"},{"location":"software/k8s/k3s-install-with-docker/","title":"K3S\u5b89\u88c5\u7684\u65f6\u5019\u9ed8\u8ba4\u4f7f\u7528docker","text":""},{"location":"software/k8s/k3s-install-with-docker/#_1","title":"\u95ee\u9898","text":"<p>k8s\u57281.20\u4e4b\u540e\u5c31\u5f03\u7528docker\u7684\u8fd0\u884c\u65f6\u4e86\uff0c\u6240\u4ee5k3s\u4e5f\u5f00\u59cb\u9ed8\u8ba4\u4f7f\u7528containerd\u4f5c\u4e3a\u9ed8\u8ba4\u7684\u8fd0\u884c\u65f6\u3002 \u8fd9\u5bfc\u81f4\u4e00\u4e2a\u95ee\u9898\u3002\u90a3\u5c31\u662fk3s\u65e0\u6cd5\u8bbf\u95ee\u672c\u5730docker\u955c\u50cf\u3002</p>"},{"location":"software/k8s/k3s-install-with-docker/#_2","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u5c31\u662f\u4f7f\u7528containerd\u7684\u955c\u50cf\uff0c\u800c\u4e0d\u662fdocker\u3002\u8fd8\u6709\u4e00\u79cd\u65b9\u5f0f\u662f\u5728\u5b89\u88c5\u65f6\u5c31\u6307\u5b9ak3s\u4f7f\u7528docker\u4f5c\u4e3a\u8fd0\u884c\u73af\u5883\u3002</p> <pre><code>/usr/local/bin/k3s-uninstall.sh\ncurl -sfL https://get.k3s.io | sh -s - server --docker\n</code></pre> <p>\u56fd\u5185\u7528\u6237\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u52a0\u901f\u5b89\u88c5\uff1a</p> <pre><code>curl -sfL https://rancher-mirror.rancher.cn/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn sh -s - server --docker\n</code></pre>"},{"location":"summary/2022/","title":"2022\u5e74\u5ea6\u603b\u7ed3","text":"<p>2022\u5e74\u771f\u7684\u662f\u4e00\u4e2a\u8ba9\u4eba\u96be\u4ee5\u5fd8\u6000\u7684\u5e74\u4efd\uff0c\u5c24\u5176\u5728\u5148\u540e\u7ecf\u5386\u4e86\u4e0a\u6d77\u5c01\u57ce\u3001\u8001\u4e08\u4eba\u53bb\u4e16\u3001\u9886\u8bc1\u7ed3\u5a5a\u3002</p>"},{"location":"summary/2022/#_1","title":"\u75ab\u60c5","text":"<p>\u8fd8\u8bb0\u5f972020\u5e74\u75ab\u60c5\u521a\u5f00\u59cb\u7684\u65f6\u5019\uff0c\u90a3\u65f6\u4faf\u81ea\u5df1\u4e00\u4e2a\u4eba\u5f00\u8f66\u56de\u4e0a\u6d77\uff0c\u8def\u4e0a\u7684\u8f66\u8f86\u975e\u5e38\u5c11\uff0c\u5f00\u8f66\u7684\u611f\u89c9\u771f\u7684\u53ef\u4ee5\u8bf4\u975e\u5e38\u723d\uff0c\u5b8c\u5168\u53ef\u4ee5\u95ed\u7740\u773c\u5f00\u8f66\uff0c\u53cd\u6b63\u770b\u4e0d\u5230\u8f66\uff0c\u5373\u4f7f\u8fdb\u4e86\u4e0a\u6d77\u5e02\u533a\u3002\u90a3\u4e2a\u65f6\u5019\u5355\u7eaf\u7684\u60f3\uff0c\u5c11\u5219\u4e09\u4e2a\u6708\uff0c\u591a\u5219\u534a\u5e74\uff0c\u75ab\u60c5\u5c31\u4f1a\u81ea\u7136\u800c\u7136\u7684\u8fc7\u53bb\uff0c\u5230\u65f6\u5019\u6211\u4eec\u8be5\u5403\u5403\u8be5\u559d\u559d\u3002\u867d\u7136\u8fd9\u4e2a\u5224\u65ad\u7ffb\u8f66\u4e86\uff0c\u4f46\u662f2021\u5e74\u4e5f\u662f\u5bf9\u56fd\u5185\u75ab\u60c5\u8fd8\u662f\u6bd4\u8f83\u4e50\u89c2\u3002\u4f46\u662f2022\u5e74\u7684\u4e0a\u6d77\u5c01\u57ce\u6253\u7834\u4e86\u6211\u6240\u6709\u7684\u5e7b\u60f3\u3002\u6211\u4ece\u6765\u6ca1\u60f3\u8fc7\u4e0a\u6d77\u5c45\u7136\u73a9\u7838\u4e86\u201c\u52a8\u6001\u6e05\u7406\u201d\uff0c\u4ece\u534e\u4ead\u5bbe\u9986\u5f00\u59cb\uff0c\u4e0a\u6d77\u7684\u75ab\u60c5\u6301\u7eed\u4e0d\u65ad\uff0c\u611f\u67d3\u4eba\u6570\u6b7b\u6d3b\u90fd\u4e0b\u4e0d\u53bb\u3002</p> <p>3\u6708\u4efd\u6211\u521a\u642c\u5230\u5357\u7fd4\u5c31\u88ab\u5c01\u63a7\u4e86\uff0c\u4f46\u662f\u6211\u521a\u5f00\u59cb\u8fd8\u597d\uff0c\u867d\u7136\u4ec0\u4e48\u5403\u7684\u90fd\u6ca1\u6709\uff0c\u4f46\u662f\u53ea\u8981\u5c01\u63a7\u65f6\u95f4\u5230\u4e86\u5c31\u80fd\u51fa\u53bb\u4e70\u70b9\u4e1c\u897f\u3002\u4f46\u9057\u61be\u7684\u662f\uff0c\u4ece4\u6708\u4efd\u5f00\u59cb\uff0c\u4e0a\u6d77\u5f00\u59cb\u9759\u9ed8\u4e86\uff0c\u6211\u8db3\u8db3\u5c01\u5728\u5bb6\u91cc\u5dee\u4e0d\u591a\u4e24\u4e2a\u6708\u3002\u6211\u672c\u6765\u662f\u4e0d\u53cd\u5bf9\u5c01\u57ce\u7684\uff0c\u4f46\u662f\u4e0a\u6d77\u5e02\u653f\u5e9c\u771f\u7684\u5f88\u8ba9\u4eba\u5931\u671b\uff0c\u75ab\u60c5\u4e24\u5e74\u4e86\uff0c\u5e02\u653f\u5e9c\u4f3c\u4e4e\u6ca1\u6709\u505a\u597d\u4efb\u4f55\u76f8\u5173\u5c01\u57ce\u7684\u9884\u6848\u3002\u800c\u4e14\u603b\u611f\u89c9\u53ef\u80fd\u6d89\u53ca\u5230\u4e8c\u5341\u5927\u7684\u9ad8\u5c42\u5b89\u6392\uff0c\u5e02\u653f\u5e9c\u51b3\u7b56\u5c42\u5e94\u8be5\u662f\u5b58\u5728\u5206\u6b67\u7684\uff0c\u5e76\u4e14\u548c\u533b\u7597\u7cfb\u7edf\u7684\u4eba\u4e5f\u5b58\u5728\u4e00\u5b9a\u7684\u9694\u9602\u3002\u7531\u4e8e\u4e0a\u5c42\u7684\u95ee\u9898\uff0c\u57fa\u5c42\u673a\u6784\u51fa\u73b0\u5404\u79cd\u4e71\u4e03\u516b\u7cdf\u7684\u4e8b\u513f\u90a3\u4e5f\u80fd\u7406\u89e3\u4e86\u3002</p> <p>\u5728\u7ecf\u8fc7\u4e86\u767d\u7eb8\u8fd0\u52a8\u4e4b\u540e\uff0c\u6211\u4eec\u7684\u9632\u75ab\u653f\u7b56\u4ece\u4e00\u4e2a\u6781\u7aef\u8d70\u5411\u53e6\u5916\u4e00\u4e2a\u6781\u7aef\u3002\u6211\u4eec\u5f7b\u5e95\u653e\u5f00\u4e86\uff0c\u8ba980%\u4ee5\u4e0a\u7684\u4eba\u611f\u67d3\u4e86\u4e00\u904d\u3002\u6211\u4e0d\u662f\u53cd\u5bf9\u653e\u5f00\uff0c\u4f46\u662f\u6211\u6bd4\u8f83\u53cd\u5bf9\u5982\u6b64\u6beb\u65e0\u5f81\u5146\u7684\u653e\u5f00\uff0c\u6ca1\u6709\u51c6\u5907\u597d\u5404\u79cd\u7684\u9000\u70e7\u836f\uff0c\u6ca1\u6709\u51c6\u5907\u597d\u53e3\u7f69\u3002</p>"},{"location":"summary/2022/#_2","title":"\u6280\u672f","text":"<p>\u4eca\u5e74\u7ee7\u7eed\u505a\u4e00\u4e2a<code>web2.5</code>\u7684\u9879\u76ee\uff0c\u5c31\u662f<code>web2.0</code> + <code>\u533a\u5757\u94fe</code>\uff0c\u4e0d\u80fd\u7b97\u5f97\u4e0a\u6b63\u5b97\u7684<code>web3.0</code>\u3002\u5176\u6838\u5fc3\u5c31\u662f\u5c06\u90e8\u5206\u539f\u6765\u653e\u5728\u6570\u636e\u5e93\u7684\u6570\u636e\u653e\u5728\u533a\u5757\u94fe\u91cc\u3002\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u81ea\u79f0\u4e3a<code>web2.5</code>\u3002</p> <p>\u76ee\u524d\u90e8\u95e8\u60f3\u5168\u529b\u62bc\u5b9d\u00b7web3\u00b7\uff0c\u5e0c\u671b\u80fd\u548c\u5ba1\u8ba1\u90e8\u95e8\u80fd\u591f\u505a\u597d\u6280\u672f\u670d\u52a1\uff0c\u6240\u4ee5\u672a\u6765\u5bf9\u533a\u5757\u94fe\u7684\u7814\u7a76\u5927\u6982\u7387\u662f\u4f1a\u96c6\u4e2d\u4e2d<code>DeFi(\u53bb\u4e2d\u5fc3\u5316\u91d1\u878d)</code>\u3002\u5bf9\u6211\u6765\u8bf4\uff0c\u91d1\u878d\u662f\u4e00\u4e2a\u6beb\u65e0\u5934\u7eea\u7684\u4e1c\u897f\uff0c\u4e4b\u524d\u5e76\u6ca1\u6709\u63a5\u89e6\u8fc7\uff0c\u6ca1\u6709\u4e00\u4e2a\u826f\u597d\u7684\u4e1a\u52a1\u573a\u666f\u53ef\u4ee5\u8ba9\u6211\u7814\u7a76\uff0c\u5bfc\u81f4\u5bf9\u6211\u6765\u8bf4<code>DeFi</code>\u53ef\u80fd\u53ea\u662f\u4e00\u4e2a\u6bd4\u8f83\u7a7a\u6cdb\u7684\u540d\u8bcd\u3002</p> <p>\u8fc7\u53bb\u7684\u4e00\u5e74\uff0c\u5bf9\u4ee5\u592a\u574a\u8fd8\u662f\u6bd4\u8f83\u6d45\u663e\u7684\uff0c\u540c\u65f6\u5c06\u4e5f\u505a\u4e86\u4e00\u4e9b\u7b80\u5355\u7684demo\u3002\u603b\u7684\u6765\u8bf4\uff0c\u4e5f\u7b97\u7b80\u5355\u7684\u5165\u95e8\u5b66\u4e86\u70b9\u76ae\u6bdb\uff0c\u4f46\u662f\u5bf9\u667a\u80fd\u5408\u7ea6\u7684\u5f00\u53d1\u8fd8\u662f\u57fa\u672c\u4e0a\u4e00\u7a8d\u4e0d\u901a\u7684\u3002\u5e0c\u671b\u63a5\u4e0b\u6765\u7684\u4e00\u5e74\u53ef\u4ee5\u6df1\u5165\u7814\u7a76\u667a\u80fd\u5408\u7ea6\uff0c\u53ef\u4ee5\u72ec\u7acb\u5f00\u53d1\u667a\u80fd\u5408\u7ea6\u5e76\u90e8\u7f72\u5230\u4e00\u4e2a\u6d4b\u8bd5\u7f51\u7edc\u3002solana\u4e5f\u4f1a\u662f\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u5173\u6ce8\u65b9\u5411\uff0c\u4f46\u662f\u8003\u8651\u5230solana\u7684\u4e1c\u5bb6\u51fa\u70b9\u4e8b\u513f\uff0c\u53ef\u80fd\u4e0d\u592a\u4f1a\u91cd\u5fc3\u5728\u8fd9\u4e2a\u65b9\u9762\uff0c\u4e0d\u8fc7rust\u8bed\u8a00\u8fd8\u662f\u4f1a\u5c3d\u91cf\u6df1\u6316\u4e00\u4e0b\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f88\u6709\u6311\u6218\u6027\u7684\u65b9\u5411</p> <p>\u4eca\u5e74\u5e94\u8be5\u5f88\u5c11\u5199angular\u4e86\uff0c\u66f4\u591a\u5f00\u59cb\u5199react\u3002\u4ece\u6211\u4e2a\u4eba\u7684\u89d2\u5ea6\u6765\u8bf4\uff0cjsx\u548creact hook\u5bf9\u5199\u4e00\u4e9b\u7ec4\u4ef6\u6765\u8bf4\u786e\u5b9e\u662f\u4e00\u628a\u5229\u5668\uff0c\u4f46\u662f\u5bf9\u4e8e\u5982\u4f55\u505a\u597d\u4e00\u4e2a\u5b8c\u6574\u7684\u3001\u5f3a\u5927\u7684\u524d\u7aefweb\u5e94\u7528\u6765\u8bf4\uff0creact\u7684\u751f\u6001\u662f\u4e0d\u8db3\u7684\uff0c\u592a\u788e\u88c2\u4e86\uff0c\u5bfc\u81f4\u5728\u63a5\u624b\u4e0d\u540c\u7684\u9879\u76ee\u7684\u65f6\u5019\u603b\u662f\u80fd\u770b\u5230\u4e0d\u540c\u7684react\u5199\u6cd5\u548c\u5de5\u7a0b\u7ec4\u7ec7\u5f62\u5f0f\u3002\u6700\u8fd1\u5728react-mobile-picker\u505a\u4e00\u4e2a\u91cd\u6784\u3002\u4e00\u4e2a\u65b9\u9762\u662f\u60f3\u6539\u6210\u901a\u7528\u7684monorepo\u7684\u7ec4\u7ec7\u5f62\u5f0f\uff0c\u53e6\u5916\u4e00\u4e2a\u65b9\u9762\u662f\u9700\u8981\u5347\u7ea7\u6838\u5fc3\u4f9d\u8d56\u5e76\u4f7f\u7528typescript\u91cd\u5199\u3002\u76ee\u524d\u8fd9\u4e2a\u5de5\u4f5c\u8fd8\u5728\u52aa\u529b\u4e2d\u3002 angular\u65b9\u9762\u66f4\u591a\u7684\u4e13\u6ce8\u4e8engx-dom-confetti, \u76ee\u524d\u4ec5\u4ec5\u662f\u5bf9dom-confetti\u7684angular\u5c01\u88c5\uff0c\u5c06\u6765\u7684\u8ba1\u5212\u662f\u53c2\u8003ripple\u7684\u4ee3\u7801\u8bbe\u8ba1\uff0c\u5c06\u6765\u53ef\u4ee5\u597d\u597d\u7684\u91cd\u6784\u8fd9\u4e2a\u9879\u76ee\u3002hoteler-web\u662f\u6211\u4e00\u76f4\u4f1a\u7ef4\u62a4\u7684angular\u7684\u9879\u76ee\u3002</p> <p>\u4eca\u5929\u5728google domains\u4e70\u4e86\u4e2a\u57df\u540d\uff0c\u7136\u540e\u5c1d\u8bd5\u4f7f\u7528k3s\u7684ingress\u90e8\u7f72\u4e86[https://hoteler.damingerdai.com/]\u3002\u611f\u89c9\u4f7f\u7528k3s\u90e8\u7f72\u4e00\u4e9b\u7b80\u5355\u7684\u5e94\u7528\u57fa\u672c\u4e0a\u95ee\u9898\u4e0d\u5927\u4e86\u3002hoteler\u5df2\u7ecf\u662f\u4e00\u4e2a\u5f88\u7a33\u5b9a\u7684demo\uff0c\u5927\u6982\u7387\u662f\u4e0d\u4f1a\u8fdb\u884c\u5927\u89c4\u6a21\u7684\u91cd\u6784\u4e86\u3002\u6240\u4ee5\u76ee\u524d\u53ea\u6709\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u60f3\u6cd5\u90a3\u5c31\u662f\u4f7f\u7528spring cloud\u8fdb\u884c\u91cd\u5199\uff0c\u8fd9\u4e2a\u662f\u4e0d\u592a\u80fd\u81ea\u5df1\u90e8\u7f72\u5230\u7ebf\u4e0a\u73af\u5883\u4e86\uff0c\u6bd5\u7adf\u670d\u52a1\u5668\u8d44\u6e90\u5c31\u90a3\u4e48\u70b9\uff0c\u8dd1\u4e0d\u8d77\u90a3\u4e48\u591a\u7684\u8d44\u6e90\u3002</p> <p>\u9488\u5bf9golang\u7684\u8bdd\uff0c\u6211\u76ee\u524d\u79c1\u4e0b\u7684\u5728\u505a\u4e00\u4e2a\u5173\u4e8e\u5065\u5eb7\u7684demo\uff0c\u76ee\u524d\u8fd8\u5728\u5f00\u53d1\u4e2d\uff0c\u524d\u7aef\u4f7f\u7528react\uff0c\u540e\u7aef\u4f7f\u7528golang\u3002\u76ee\u524d\u5e0c\u671b\u5728\u6280\u672f\u4e0a\u7684\u7a81\u7834\u662f\u4f7f\u7528loki\u505a\u65e5\u5fd7\u7ba1\u7406\uff0cJaeger\u7528\u4e8e\u94fe\u8def\u8ffd\u8e2a\uff0c\u8fd9\u662f1.0\u7684\u8ba1\u5212\u30022.0\u7684\u8bdd\uff08\u5982\u679c\u6709\u65f6\u95f4\u7684\u8bdd\uff09\uff0c\u5e0c\u671b\u53ef\u4ee5\u52a0\u5165\u533a\u5757\u94fe\u7684\u4e00\u4e9b\u5143\u7d20\uff0c\u81f3\u5c11\u80fd\u505a\u6210\u4e2a\u00b7web2.5\u00b7\u3002</p> <p>\u4eca\u5e74\u5176\u5b9e\u8fd8\u662f\u63a2\u7d22\u4e86\u5f88\u591a\u7684\u6280\u672f\u3002\u6bd4\u5982minio, harbor, drone, gogs\u548cgitea\u3002</p>"},{"location":"summary/2022/#_3","title":"\u4e2a\u4eba\u751f\u6d3b","text":"<p>\u4eca\u5929\u5bf9\u6211\u6700\u5927\u7684\u4e8b\u513f\u5c31\u662f\u7ed3\u5a5a\u4e86\uff0c\u6ca1\u6709\u6bd4\u4e3e\u529e\u5a5a\u793c\u66f4\u91cd\u8981\u7684\u4e8b\u513f\u4e86\u3002\u672c\u6765\u7531\u4e8e\u6536\u5230\u4e0a\u534a\u5e74\u75ab\u60c5\u7684\u5f71\u54cd\uff0c\u539f\u6765\u4e0d\u6307\u671b\u4eca\u5e74\u7ed3\u5a5a\u7684\u3002\u672c\u6765\u5b9a\u7684\u65e5\u5b50\u662f\u660e\u5e74\u7684\u6b63\u6708\u529e\u9152\u5e2d\uff0c\u4f46\u662f\u4e08\u6bcd\u5a18\u89c9\u5f97\u4eca\u5e74\u7684\u590f\u5929\u90a3\u4e48\u70ed\uff0c\u51ac\u5929\u4e00\u5b9a\u5f88\u4f1a\u51b7\uff0c\u5e0c\u671b\u6211\u4eec\u4eca\u5e74\u5c31\u662f\u628a\u4e8b\u513f\u529e\u4e86\u3002\u6240\u4ee5\u5a5a\u671f\u63d0\u524d\u523011\u6708\u4efd\u4e3e\u884c\uff0c\u672c\u6765\u65e5\u5b50\u9009\u7684\u597d\u597d\u7684\uff0c\u4e5f\u6ca1\u5565\u597d\u7ea0\u7ed3\u7684\uff0c\u6bd5\u7adf\u59b9\u5b50\u662f\u81ea\u5df1\u8c08\u7684\u3002\u4f46\u662f\u660e\u5929\u548c\u610f\u5916\u4f60\u6c38\u8fdc\u90fd\u4e0d\u77e5\u9053\u54ea\u4e2a\u5148\u6765\uff0c\u6211\u8001\u4e08\u4eba\u5728\u5a5a\u793c\u7684\u524d\u4e24\u5929\u53bb\u4e16\u4e86\u3002\u5728\u5a5a\u793c\u524d\u7684\u51e0\u4e2a\u793c\u62dc\uff0c\u6211\u8001\u4e08\u4eba\u751f\u75c5\u4e86\uff0c\u662f\u4fbf\u79d8\u5bfc\u81f4\u7684\u80a0\u6897\u963b\u3002\u5728\u533b\u9662\u6cbb\u7597\u4e86\u4e00\u6bb5\u65f6\u95f4\u672c\u6765\u5df2\u7ecf\u6cbb\u597d\u4e86\uff0c\u4f46\u662f\u4e0d\u77e5\u9053\u662f\u533b\u9662\u7684\u6c34\u5e73\u95ee\u9898\u8fd8\u662f\u6211\u8001\u4e08\u4eba\u672c\u8eab\u7684\u95ee\u9898\uff0c\u5728\u6cbb\u7597\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u6ca1\u6709\u63a7\u5236\u597d\u7cd6\u5c3f\u75c5\u5bfc\u81f4\u80ba\u90e8\u611f\u67d3\uff0c \u5728icu\u8eba\u4e86\u51e0\u5929\u4e4b\u540e\u7ec8\u7a76\u5c06\u62a2\u6551\u65e0\u6548\u53bb\u4e16\uff0c\u5e74\u4ec550\u5c81\u3002\u5728\u6ba1\u4eea\u9986\u91cc\uff0c\u6211\u770b\u5230\u540c\u6279\u706b\u5316\u7684\u4eba\u4e2d\u5c31\u5c5e\u6211\u8001\u4e08\u4eba\u6700\u5e74\u8f7b\u3002\u6709\u7684\u65f6\u95f4\u771f\u7684\u611f\u89c9\u4e16\u4e8b\u65e0\u5e38\uff0c\u56fd\u5e86\u8282\u56de\u53bb\u7684\u65f6\u5019\uff0c\u8001\u4e08\u4eba\u8fd8\u597d\u597d\u7684\uff0c\u7ed3\u679c\u624d\u8fc7\u53bb\u4e00\u4e2a\u6708\u4e0d\u5230\uff0c\u4eba\u5c31\u6ca1\u4e86\u3002</p>"},{"location":"summary/2022/#_4","title":"\u5c55\u671b\u672a\u6765","text":"<p>\u5bf92023\u5e74\u8fd9\u4e2a\u7ecf\u6d4e\u5224\u65ad\u662f\u771f\u7684\u4e0d\u592a\u597d\u8bf4\uff0c\u8c01\u4e5f\u4e0d\u77e5\u9053\u660e\u5e74\u4f1a\u600e\u4e48\u60f3\uff0c\u6211\u4e5f\u4e0d\u6562\u778e\u8bf4\uff0c\u6211\u53ea\u80fd\u6211\u5927\u6982\u7387\u4f1a\u91cd\u70b9\u5173\u6ce8\u00b7DeFi\u00b7\u3002\u7136\u540e\u5e0c\u671b\u80fd\u591f\u4fdd\u4f4f\u5c31\u4e1a\uff0c\u4fdd\u4f4f\u73b0\u91d1\u6d41\u3002</p>"}]}